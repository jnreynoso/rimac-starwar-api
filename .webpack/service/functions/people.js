(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 31);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/extends");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _Controller=__webpack_require__(12);Object.defineProperty(exports,'BaseController',{enumerable:true,get:function(){return _interopRequireDefault(_Controller).default;}});var _Exceptions=__webpack_require__(2);Object.defineProperty(exports,'Exceptions',{enumerable:true,get:function(){return _interopRequireDefault(_Exceptions).default;}});var _Middleware=__webpack_require__(14);Object.defineProperty(exports,'Middleware',{enumerable:true,get:function(){return _interopRequireDefault(_Middleware).default;}});var _Request=__webpack_require__(4);Object.defineProperty(exports,'Request',{enumerable:true,get:function(){return _interopRequireDefault(_Request).default;}});var _Response=__webpack_require__(3);Object.defineProperty(exports,'Response',{enumerable:true,get:function(){return _interopRequireDefault(_Response).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});function _extendableBuiltin3(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}function _extendableBuiltin2(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}function _extendableBuiltin(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}class BaseException extends _extendableBuiltin(Error){constructor(message,code){super(message);this.code=typeof code!=='undefined'?code:0;}}class BadRequestException extends BaseException{constructor(message,code){super(message,code);this.statusCode=400;this.name='Bad Request';}}exports.BadRequestException=BadRequestException;class UnAuthorizedException extends BaseException{constructor(message,code){super(message,code);this.statusCode=401;this.name='Unauthorized';}}exports.UnAuthorizedException=UnAuthorizedException;class NotFoundException extends _extendableBuiltin2(Error){constructor(message,code){super(message,code);this.statusCode=404;this.name='Not Found';}}exports.NotFoundException=NotFoundException;class DataValidationFailedException extends _extendableBuiltin3(Error){constructor(message,body,code){super(message,code);this.statusCode=422;this.name='Data Validation failed';this.body=body;}}exports.DataValidationFailedException=DataValidationFailedException;exports.default={BadRequestException,UnAuthorizedException,NotFoundException,DataValidationFailedException};

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _objectWithoutProperties2=__webpack_require__(13);var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
 * Class to handle responses back to Lambda
 *
 * @type {Response}
 */class Response{/**
   * Pass the Lambda function that comes in the handler
   *
   * @param lambdaCallback
   * @public
   */constructor(lambdaCallback){this.callback=lambdaCallback;this._statusCode=200;this._headers={};this._options={};}/**
   * Change the status code
   *
   * @param statusCode
   * @returns {Response}
   */statusCode(statusCode){if(statusCode===undefined)return this._statusCode;this._statusCode=parseInt(statusCode);if(isNaN(this._statusCode))this._statusCode=500;if(this._statusCode<200||this._statusCode>599)this._statusCode=500;return this;}/**
   * Get all headers, retrieve a header or add one/many headers
   *
   * @param key
   * @param value
   * @returns {*}
   */headers(key,value){// If called empty it returns all the headers
if(key===undefined&&value===undefined){return this._headers;}// Set or return the key when it is a string
if(typeof key==='string'){if(value===undefined){return this._headers[key.toLowerCase()]||null;}else{this._headers[key.toLowerCase()]=value;return this;}}// Add multiple headers
let headerNames=Object.keys(key);for(let i=0;i<headerNames.length;i++){let headerName=headerNames[i].toLowerCase();this._headers[headerName]=key[headerNames[i]];}return this;}options(key,value){// If called empty it returns all the options
if(key===undefined&&value===undefined){return this._options;}// Set or return the key when it is a string
if(typeof key==='string'){if(value===undefined){return this._options[key]||null;}else{this._options[key]=value;return this;}}// Add multiple options
let optionsNames=Object.keys(key);for(let i=0;i<optionsNames.length;i++){let optionName=optionsNames[i];this._options[optionName]=key[optionsNames[i]];}return this;}/**
   * Send the body as a response
   *
   * @param body
   * @public
   */send(body){const _options=this._options,{raw}=_options,rest=(0,_objectWithoutProperties3.default)(_options,['raw']);if(body===undefined)body={};if(!raw){if(typeof body!=='object')body={message:body};body=JSON.stringify(body||{});}this.callback(null,(0,_extends3.default)({statusCode:this._statusCode,body,headers:this._headers},rest));}/**
   * Fail with a 4XX statusCode
   *
   * @param body
   * @param statusCode
   * @public
   */fail(body,statusCode){if(body===undefined)body={};if(typeof body!=='object')body={message:body};this.statusCode(Math.abs(parseInt(statusCode||400))%100+400).send(Object.assign({message:'Something went wrong'},body||{}));}/**
   * Fail with a 5XX statusCode
   *
   * @param err
   * @param statusCode
   * @public
   */fail500(err,statusCode){if(err===undefined)err=new Error("Called 'fail500' without error");if(!err)err={message:'Internal server error'// Log the error to identify later
};if(err.stack){console.error(err.stack);}else{console.error(err);}// Send a response in a proper format to the customer
this.statusCode(Math.abs(parseInt(statusCode||500))%100+500).send({message:'Internal server error'});}}exports.default=Response;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});/**
 * A Request type to easily send requests to services
 *
 * @type {Request}
 */class Request{/**
   * Create the request by passing the event and context received
   * in the lambda handler. This class has methods to retrieve info
   * from those parameters
   *
   * @param event
   * @param context
   * @public
   */constructor(event,context){this.event=event;this.context=context;}/**
   * Extract a value from an object using dot notation. It can
   * get nested objects
   *
   * @param obj
   * @param key
   * @param defaultValue
   * @returns {*}
   * @public
   */__get(obj,key,defaultValue){if(!obj)return defaultValue===undefined?null:defaultValue;const path=key.split('.');for(let i=0;i<path.length;i++){if(typeof obj==='object'){if(obj[path[i]]){obj=obj[path[i]];}else{obj=defaultValue===undefined?null:defaultValue;break;}}else{return defaultValue===undefined?null:defaultValue;}}return obj;}/**
   * Get a value from a path variable
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */path(key,defVal){if(key===undefined)return this.event.pathParameters||{};return this.__get(this.event.pathParameters,key,defVal);}/**
   * Get a value from the body of the request
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */post(key,defVal){// Make sure that body is not a JSON string but an object
// because AWS sends it as a JSON string
if(this.event.body&&typeof this.event.body==='string'){try{this.event.body=JSON.parse(this.event.body);}catch(ex){this.event.body={};}}if(key===undefined)return this.event.body||{};return this.__get(this.event.body,key,defVal);}/**
   * Get a value from the query parameters
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */query(key,defVal){if(key===undefined)return this.event.queryStringParameters||{};return this.__get(this.event.queryStringParameters,key,defVal);}/**
     * Get a value from the method
     *
     * @returns {*}
     * @public
     */method(){return this.event.httpMethod||'';}/**
   * Get a value from the headers
   *
   * @param key
   * @param defVal
   * @returns {*}
   */headers(key,defVal){if(key===undefined)return this.event.headers||{};return this.__get(this.event.headers,key,defVal);}/**
   * Return the IP Address of the request from the AWS event
   *
   * @returns {*}
   */ip(){let ipVal=this.__get(this.event,'requestContext.identity.sourceIp',null);if(ipVal==='::'){ipVal='127.0.0.1';}return ipVal;}}exports.default=Request;

/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.Swapi=undefined;var _swapi=__webpack_require__(16);var _swapi2=_interopRequireDefault(_swapi);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.Swapi=_swapi2.default;

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = require("yenv");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});class IRepository{constructor(){if(this.create===undefined)throw new Error('Must override .create() method.');if(this.update===undefined)throw new Error('Must override .update() method');if(this.get===undefined)throw new Error('Must override .get() metod');if(this.getById===undefined)throw new Error('Must override .getById() method');if(this.remove===undefined)throw new Error('Must override .remove() method');}}exports.default=IRepository;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.PeopleController=exports.FilmController=undefined;var _Film=__webpack_require__(10);var _Film2=_interopRequireDefault(_Film);var _People=__webpack_require__(18);var _People2=_interopRequireDefault(_People);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmController=_Film2.default;exports.PeopleController=_People2.default;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _lodash=__webpack_require__(11);var _swapiHelpers=__webpack_require__(1);var _swapiUtils=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{CorsMiddleware}=_swapiHelpers.Middleware;const getFilms=()=>{return new Promise((resolve,reject)=>{_swapiUtils.Swapi.getFilms(data=>resolve(data));});};class FilmRepositoryController extends _swapiHelpers.BaseController{constructor(unitOfWork){super();this.unitOfWork=unitOfWork;return this;}init(event,context,callback){this.middleware(CorsMiddleware);return super.init(event,context,callback);}async handle(event,context,callback){const method=this.request.method();var operation=null;switch(method){case'GET':operation=await this.get();break;case'POST':operation=await this.create();break;case'PATCH':operation=await this.update();break;case'DELETE':operation=await this.remove();break;default:res.status(500).send({error:'Method not supported!'});break;}return operation;}async get(){const{FilmRepository}=this.unitOfWork;const filters=this.request.query();const films=(await FilmRepository.get(filters))||[];const filmsApi=await getFilms();const results=(0,_lodash.concat)((0,_lodash.get)(filmsApi,'results',[]),films);return(0,_extends3.default)({},filmsApi,{results,count:filmsApi.count+results.length});}async getById(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=await FilmRepository.getById(id);return film;}async create(){const{FilmRepository}=this.unitOfWork;const film=this.request.post();const created=Date(Date.now()).toString();const filmSaved=await FilmRepository.create((0,_extends3.default)({},film,{created}));const childs=['people','planet','specie','starship','vehicle'];const checkAndCreateChilds=(entity=null)=>{if(film[entity]){if(Array.isArray(film[entity])){return film[entity].map(e=>filmSaved.createFilmRelation({relation_id:e,relation:entity,created}));}else{return filmSaved.createFilmRelation({relation_id:film[entity],relation:entity,created});}}};await Promise.all(childs.map(e=>checkAndCreateChilds(e)));return filmSaved;}async update(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=this.request.post();const rowUpdate=await FilmRepository.update(id,film);if(rowUpdate){const filmUpdated=await FilmRepository.getById(id);return filmUpdated;}return{};}async remove(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=await FilmRepository.remove(id);return film;}}exports.default=FilmRepositoryController;

/***/ }),
/* 11 */
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _Exceptions=__webpack_require__(2);var _Exceptions2=_interopRequireDefault(_Exceptions);var _Response=__webpack_require__(3);var _Response2=_interopRequireDefault(_Response);var _Request=__webpack_require__(4);var _Request2=_interopRequireDefault(_Request);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{BadRequestException,DataValidationFailedException,UnAuthorizedException,NotFoundException}=_Exceptions2.default;class BaseController{constructor(){this.middlewares=[];}init(event,context,callback){this.request=new _Request2.default(event,context);this.response=new _Response2.default(callback);context.callbackWaitsForEmptyEventLoop=false;try{const middlewarePromise=this.processRequest();const handle=this.handle.bind(this);return middlewarePromise.then(handle).then(response=>this.response.send(response)).catch(e=>{this.handleException(e);});}catch(e){this.handleException(e);}}/**
   * You MUST implement this method.
   * It is supposed to be used to handle the logic in
   * your controller. Should returns a promise or raise
   * an Exception from core/Exceptions
   */handle(){throw new Error('You must implement the method handle');}middleware(middlewareClass){this.middlewares.push(middlewareClass);}processRequest(){const promises=[];for(let i=0;i<this.middlewares.length;i++){let Middleware=this.middlewares[i];let middlewareObj=new Middleware(this.request,this.response);let method=middlewareObj.processRequest.bind(middlewareObj);promises.push(method());}return Promise.resolve(Promise.all(promises));}handleException(e){const isSimilarError=function(e){const similarErrors=[BadRequestException,UnAuthorizedException,NotFoundException];for(let i=0;i<similarErrors.length;i++){if(e instanceof similarErrors[i]){return true;}}return false;};if(isSimilarError(e)){this.response.fail({status:e.statusCode,name:e.name,message:e.message,code:e.code},e.statusCode);}else if(e instanceof DataValidationFailedException){this.response.statusCode(e.statusCode).send(e.body);}else{this.response.fail500(e);}}}exports.default=BaseController;

/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/objectWithoutProperties");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _path=__webpack_require__(5);var _path2=_interopRequireDefault(_path);var _i18n=__webpack_require__(15);var _i18n2=_interopRequireDefault(_i18n);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_i18n2.default.configure({directory:_path2.default.join(__dirname,'./resources/lang'),register:global,updateFiles:false,defaultLocale:'en'});/**
 * Every middleware can define processRequest.
 * That method must return a Promise
 */class BaseMiddleware{constructor(request,response){this.request=request;this.response=response;}}class LanguageMiddleware extends BaseMiddleware{processRequest(){let headers=this.request.headers();this.request.language='en';if(headers['Accept-Language']){this.request.language=headers['Accept-Language'].substring(0,2);_i18n2.default.setLocale(this.request.language);}return Promise.resolve();}}class CorsMiddleware extends BaseMiddleware{processRequest(){this.response.headers({'Access-Control-Allow-Origin':'*','Access-Control-Allow-Credentials':true});return Promise.resolve();}}exports.default={LanguageMiddleware,CorsMiddleware};

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = require("i18n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});const fetch=__webpack_require__(17);const yenv=__webpack_require__(7);const env=process.env.NODE_ENV||'development';const stage=yenv('.env.yml',{env});const swapiModule=function(){var rootURL=stage.SWAPI_URL;function request(url,cb){return fetch(url).then(function(res){return res.json();}).then(function(data){if(typeof cb==="function"){cb(data);}return data;}).catch(function(err){console.log(err);});}function getResources(cb){return request(rootURL,cb);}function singularRequestGenerator(path){return function(id,cb){return request(rootURL+path+"/"+id+"/",cb);};}function pluralRequestGenerator(path){return function(){let queryObject=undefined;let cb=undefined;if(arguments.length>1){queryObject=arguments[0];cb=arguments[1];}else if(arguments[0]){// If given exactly one argument
if(typeof arguments[0]==="function"){cb=arguments[0];queryObject=null;}else{cb=null;queryObject=arguments[0];}}if(queryObject){let searchParams=new URLSearchParams();for(let key of Object.keys(queryObject)){let value=queryObject[key];searchParams.append(key,value);}return request(rootURL+path+"/?"+searchParams.toString(),cb);}return request(rootURL+path+"/",cb);};}return{getResources:getResources,getPerson:singularRequestGenerator("people"),getPeople:pluralRequestGenerator("people"),getFilm:singularRequestGenerator("films"),getFilms:pluralRequestGenerator("films"),getPlanet:singularRequestGenerator("planets"),getPlanets:pluralRequestGenerator("planets"),getSpecies:singularRequestGenerator("species"),getAllSpecies:pluralRequestGenerator("species"),getStarship:singularRequestGenerator("starships"),getStarships:pluralRequestGenerator("starships"),getVehicle:singularRequestGenerator("vehicles"),getVehicles:pluralRequestGenerator("vehicles")};}();exports.default=swapiModule;

/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = require("node-fetch");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _swapiHelpers=__webpack_require__(1);var _swapiUtils=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{CorsMiddleware}=_swapiHelpers.Middleware;const getPeopleRepositorys=()=>{return new Promise((resolve,reject)=>{_swapiUtils.Swapi.getPeopleRepositorys(data=>resolve(data));});};class PeopleRepositoryController extends _swapiHelpers.BaseController{constructor(unitOfWork){super();this.unitOfWork=unitOfWork;return this;}init(event,context,callback){this.middleware(CorsMiddleware);return super.init(event,context,callback);}async handle(event,context,callback){const method=this.request.method();var operation=null;switch(method){case'GET':operation=await this.get();break;case'POST':operation=await this.create();break;case'PATCH':operation=await this.update();break;case'DELETE':operation=await this.remove();break;default:res.status(500).send({error:'Method not supported!'});break;}return operation;}async get(){const{PeopleRepository}=this.unitOfWork;const filters=this.request.query();const peoples=await PeopleRepository.get(filters);const peoplesApi=await getPeopleRepositorys();return(0,_extends3.default)({},peoplesApi,{results:peoplesApi.results.concat(peoples)});}async getById(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=await PeopleRepository.getById(id);return people;}async create(){const{PeopleRepository}=this.unitOfWork;const people=this.request.post();const created=Date(Date.now()).toString();const peopleSaved=await PeopleRepository.create((0,_extends3.default)({},people,{created}));return peopleSaved;}async update(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=this.request.post();const rowUpdate=await PeopleRepository.update(id,people);if(rowUpdate){const peopleUpdated=await PeopleRepository.getById(id);return peopleUpdated;}return{};}async remove(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=await PeopleRepository.remove(id);return people;}}exports.default=PeopleRepositoryController;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.unitOfWork=undefined;var _UnitOfWork=__webpack_require__(20);var _UnitOfWork2=_interopRequireDefault(_UnitOfWork);var _DBContext=__webpack_require__(24);var _DBContext2=_interopRequireDefault(_DBContext);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const unitOfWork=new _UnitOfWork2.default(_DBContext2.default);exports.unitOfWork=unitOfWork;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _swapiRepositories=__webpack_require__(21);class UnitOfWork{constructor(dbContext){this.dbContext=dbContext;this.FilmRepository=new _swapiRepositories.FilmRepository(dbContext);this.PeopleRepository=new _swapiRepositories.PeopleRepository(dbContext);}}exports.default=UnitOfWork;

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.PeopleRepository=exports.FilmRepository=undefined;var _Film=__webpack_require__(22);var _Film2=_interopRequireDefault(_Film);var _People=__webpack_require__(23);var _People2=_interopRequireDefault(_People);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmRepository=_Film2.default;exports.PeopleRepository=_People2.default;

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _IRepository=__webpack_require__(8);var _IRepository2=_interopRequireDefault(_IRepository);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}class FilmRepository extends _IRepository2.default{constructor(dbContext){super();this.dbContext=dbContext;return this;}async create(film){try{const{Film}=this.dbContext;const filmSaved=await Film.create(film);return filmSaved;}catch(e){console.log(e);}}async update(id,film){try{const{Film}=this.dbContext;const filmSaved=await Film.update(film,{where:{id}});return filmSaved;}catch(e){console.log(e);}}async get(filters){try{const{Film}=this.dbContext;const film=await Film.findAll(filters);return film;}catch(e){console.log(e);}}async getById(id){try{const{Film}=this.dbContext;const film=await Film.findOne({where:{id}});return film;}catch(e){console.log(e);}}async remove(id){const{Film}=this.dbContext;const film=await Film.findOne({where:{id}});await Film.destroy({where:{id}});return film;}}exports.default=FilmRepository;

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _IRepository=__webpack_require__(8);var _IRepository2=_interopRequireDefault(_IRepository);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}class PeopleRepository extends _IRepository2.default{constructor(dbContext){super();this.dbContext=dbContext;return this;}async create(people){try{const{People}=this.dbContext;const peopleSaved=await People.create(people);return peopleSaved;}catch(e){console.log(e);}}async update(id,people){try{const{People}=this.dbContext;const peopleSaved=await People.update(people,{where:{id}});return peopleSaved;}catch(e){console.log(e);}}async get(filters){try{const{People}=this.dbContext;const people=await People.findAll(filters);return people;}catch(e){console.log(e);}}async getById(id){try{const{People}=this.dbContext;const people=await People.findOne({where:{id}});return people;}catch(e){console.log(e);}}async remove(id){const{People}=this.dbContext;const people=await People.findOne({where:{id}});await People.destroy({where:{id}});return people;}}exports.default=PeopleRepository;

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _swapiDatabase=__webpack_require__(25);var _swapiDatabase2=_interopRequireDefault(_swapiDatabase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const env=process.env.NODE_ENV||'development';const config=__webpack_require__(29)[env];const cnManager=new _swapiDatabase2.default(config);const db=cnManager.getConnection();exports.default=db;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const fs=__webpack_require__(26);const path=__webpack_require__(5);const Sequelize=__webpack_require__(27);const basename=path.basename(__filename);const{FRAMEWORK}=__webpack_require__(28);var _instance=null;const modelsPath=path.resolve(__dirname,'./models');class ConnectionManager{constructor(config={}){this.framework=config.framework||FRAMEWORK.SEQUELIZE;this.database=config.database;this.username=config.username;this.password=config.password;this.host=config.host;this.port=config.port;this.dialect=config.dialect;this.sequelize={};this.directory=config.directory||modelsPath;this.use_env_variable=config.use_env_variable;this.connection=null;if(!_instance){_instance=this;}return _instance;}getConnection(){switch(this.framework){case FRAMEWORK.SEQUELIZE:this.connection=this.connection||this.getSequelize();break;default:this.connection=this.connection||this.getSequelize();break;}return this.connection;}getSequelize(){const db={};const{database,username,password,directory,host,port,dialect,use_env_variable}=this;const config={database,username,password,host,port,dialect};try{if(use_env_variable){this.sequelize=new Sequelize(process.env[use_env_variable],config);}else{this.sequelize=new Sequelize(database,username,password,config);}fs.readdirSync(directory).filter(file=>{return file.indexOf('.')!==0&&file!==basename&&file.slice(-3)==='.js';}).forEach(file=>{const model=this.sequelize['import'](path.join(directory,file));db[model.name]=model;});Object.keys(db).forEach(modelName=>{if(db[modelName].associate){db[modelName].associate(db);}});db.sequelize=this.sequelize;db.Sequelize=Sequelize;}catch(err){db.stacktrace=err;db.message='ConnectionManagerError in getSequelizeConnection';console.error(err);}return db;}}module.exports=ConnectionManager;

/***/ }),
/* 26 */
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ }),
/* 27 */
/***/ (function(module, exports) {

module.exports = require("sequelize");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const FRAMEWORK={SEQUELIZE:'sequelize'};module.exports={FRAMEWORK};

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const yenv=__webpack_require__(7);const env=process.env.NODE_ENV||'development';const stage=yenv('.env.yml',{env});module.exports={development:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT},test:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT},production:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT}};

/***/ }),
/* 30 */,
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _swapiControllers=__webpack_require__(9);var _persistence=__webpack_require__(19);const peopleController=new _swapiControllers.PeopleController(_persistence.unitOfWork);module.exports.handler=peopleController.init.bind(peopleController);

/***/ })
/******/ ])));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTM5Mzk3NzdkMjNhZjFlYjVjYzYiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIiIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL2hlbHBlcnMvRXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL1Jlc3BvbnNlLmpzIiwid2VicGFjazovLy8uL2hlbHBlcnMvUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vLy4vdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwieWVudlwiIiwid2VicGFjazovLy8uL3JlcG9zaXRvcmllcy9JUmVwb3NpdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9GaWxtLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy8uL2hlbHBlcnMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIiIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL01pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaTE4blwiIiwid2VicGFjazovLy8uL3V0aWxzL3N3YXBpLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm5vZGUtZmV0Y2hcIiIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9QZW9wbGUuanMiLCJ3ZWJwYWNrOi8vLy4vcGVyc2lzdGVuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcGVyc2lzdGVuY2UvVW5pdE9mV29yay5qcyIsIndlYnBhY2s6Ly8vLi9yZXBvc2l0b3JpZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcmVwb3NpdG9yaWVzL0ZpbG0uanMiLCJ3ZWJwYWNrOi8vLy4vcmVwb3NpdG9yaWVzL1Blb3BsZS5qcyIsIndlYnBhY2s6Ly8vLi9wZXJzaXN0ZW5jZS9EQkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vZGF0YWJhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzZXF1ZWxpemVcIiIsIndlYnBhY2s6Ly8vLi9jb25zdGFudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vZGF0YWJhc2UvY29uZmlnLmpzIiwid2VicGFjazovLy8uL2Z1bmN0aW9ucy9wZW9wbGUuanMiXSwibmFtZXMiOlsiZGVmYXVsdCIsIkJhc2VFeGNlcHRpb24iLCJFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsImNvZGUiLCJCYWRSZXF1ZXN0RXhjZXB0aW9uIiwic3RhdHVzQ29kZSIsIm5hbWUiLCJVbkF1dGhvcml6ZWRFeGNlcHRpb24iLCJOb3RGb3VuZEV4Y2VwdGlvbiIsIkRhdGFWYWxpZGF0aW9uRmFpbGVkRXhjZXB0aW9uIiwiYm9keSIsIlJlc3BvbnNlIiwibGFtYmRhQ2FsbGJhY2siLCJjYWxsYmFjayIsIl9zdGF0dXNDb2RlIiwiX2hlYWRlcnMiLCJfb3B0aW9ucyIsInVuZGVmaW5lZCIsInBhcnNlSW50IiwiaXNOYU4iLCJoZWFkZXJzIiwia2V5IiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsImhlYWRlck5hbWVzIiwiT2JqZWN0Iiwia2V5cyIsImkiLCJsZW5ndGgiLCJoZWFkZXJOYW1lIiwib3B0aW9ucyIsIm9wdGlvbnNOYW1lcyIsIm9wdGlvbk5hbWUiLCJzZW5kIiwicmF3IiwicmVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmYWlsIiwiTWF0aCIsImFicyIsImFzc2lnbiIsImZhaWw1MDAiLCJlcnIiLCJzdGFjayIsImNvbnNvbGUiLCJlcnJvciIsIlJlcXVlc3QiLCJldmVudCIsImNvbnRleHQiLCJfX2dldCIsIm9iaiIsImRlZmF1bHRWYWx1ZSIsInBhdGgiLCJzcGxpdCIsImRlZlZhbCIsInBhdGhQYXJhbWV0ZXJzIiwicG9zdCIsInBhcnNlIiwiZXgiLCJxdWVyeSIsInF1ZXJ5U3RyaW5nUGFyYW1ldGVycyIsIm1ldGhvZCIsImh0dHBNZXRob2QiLCJpcCIsImlwVmFsIiwiU3dhcGkiLCJJUmVwb3NpdG9yeSIsImNyZWF0ZSIsInVwZGF0ZSIsImdldCIsImdldEJ5SWQiLCJyZW1vdmUiLCJGaWxtQ29udHJvbGxlciIsIlBlb3BsZUNvbnRyb2xsZXIiLCJDb3JzTWlkZGxld2FyZSIsIk1pZGRsZXdhcmUiLCJnZXRGaWxtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGF0YSIsIkZpbG1SZXBvc2l0b3J5Q29udHJvbGxlciIsIkJhc2VDb250cm9sbGVyIiwidW5pdE9mV29yayIsImluaXQiLCJtaWRkbGV3YXJlIiwiaGFuZGxlIiwicmVxdWVzdCIsIm9wZXJhdGlvbiIsInJlcyIsInN0YXR1cyIsIkZpbG1SZXBvc2l0b3J5IiwiZmlsdGVycyIsImZpbG1zIiwiZmlsbXNBcGkiLCJyZXN1bHRzIiwiY291bnQiLCJpZCIsImZpbG0iLCJjcmVhdGVkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiZmlsbVNhdmVkIiwiY2hpbGRzIiwiY2hlY2tBbmRDcmVhdGVDaGlsZHMiLCJlbnRpdHkiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJlIiwiY3JlYXRlRmlsbVJlbGF0aW9uIiwicmVsYXRpb25faWQiLCJyZWxhdGlvbiIsImFsbCIsInJvd1VwZGF0ZSIsImZpbG1VcGRhdGVkIiwiRXhjZXB0aW9ucyIsIm1pZGRsZXdhcmVzIiwicmVzcG9uc2UiLCJjYWxsYmFja1dhaXRzRm9yRW1wdHlFdmVudExvb3AiLCJtaWRkbGV3YXJlUHJvbWlzZSIsInByb2Nlc3NSZXF1ZXN0IiwiYmluZCIsInRoZW4iLCJjYXRjaCIsImhhbmRsZUV4Y2VwdGlvbiIsIm1pZGRsZXdhcmVDbGFzcyIsInB1c2giLCJwcm9taXNlcyIsIm1pZGRsZXdhcmVPYmoiLCJpc1NpbWlsYXJFcnJvciIsInNpbWlsYXJFcnJvcnMiLCJpMThuIiwiY29uZmlndXJlIiwiZGlyZWN0b3J5Iiwiam9pbiIsIl9fZGlybmFtZSIsInJlZ2lzdGVyIiwiZ2xvYmFsIiwidXBkYXRlRmlsZXMiLCJkZWZhdWx0TG9jYWxlIiwiQmFzZU1pZGRsZXdhcmUiLCJMYW5ndWFnZU1pZGRsZXdhcmUiLCJsYW5ndWFnZSIsInN1YnN0cmluZyIsInNldExvY2FsZSIsImZldGNoIiwicmVxdWlyZSIsInllbnYiLCJlbnYiLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJzdGFnZSIsInN3YXBpTW9kdWxlIiwicm9vdFVSTCIsIlNXQVBJX1VSTCIsInVybCIsImNiIiwianNvbiIsImxvZyIsImdldFJlc291cmNlcyIsInNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvciIsInBsdXJhbFJlcXVlc3RHZW5lcmF0b3IiLCJxdWVyeU9iamVjdCIsImFyZ3VtZW50cyIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImFwcGVuZCIsImdldFBlcnNvbiIsImdldFBlb3BsZSIsImdldEZpbG0iLCJnZXRQbGFuZXQiLCJnZXRQbGFuZXRzIiwiZ2V0U3BlY2llcyIsImdldEFsbFNwZWNpZXMiLCJnZXRTdGFyc2hpcCIsImdldFN0YXJzaGlwcyIsImdldFZlaGljbGUiLCJnZXRWZWhpY2xlcyIsImdldFBlb3BsZVJlcG9zaXRvcnlzIiwiUGVvcGxlUmVwb3NpdG9yeUNvbnRyb2xsZXIiLCJQZW9wbGVSZXBvc2l0b3J5IiwicGVvcGxlcyIsInBlb3BsZXNBcGkiLCJjb25jYXQiLCJwZW9wbGUiLCJwZW9wbGVTYXZlZCIsInBlb3BsZVVwZGF0ZWQiLCJVbml0T2ZXb3JrIiwiREJDb250ZXh0IiwiZGJDb250ZXh0IiwiRmlsbSIsIndoZXJlIiwiZmluZEFsbCIsImZpbmRPbmUiLCJkZXN0cm95IiwiUGVvcGxlIiwiY29uZmlnIiwiY25NYW5hZ2VyIiwiQ29ubmVjdGlvbk1hbmFnZXIiLCJkYiIsImdldENvbm5lY3Rpb24iLCJmcyIsIlNlcXVlbGl6ZSIsImJhc2VuYW1lIiwiX19maWxlbmFtZSIsIkZSQU1FV09SSyIsIl9pbnN0YW5jZSIsIm1vZGVsc1BhdGgiLCJmcmFtZXdvcmsiLCJTRVFVRUxJWkUiLCJkYXRhYmFzZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0IiwicG9ydCIsImRpYWxlY3QiLCJzZXF1ZWxpemUiLCJ1c2VfZW52X3ZhcmlhYmxlIiwiY29ubmVjdGlvbiIsImdldFNlcXVlbGl6ZSIsInJlYWRkaXJTeW5jIiwiZmlsdGVyIiwiZmlsZSIsImluZGV4T2YiLCJzbGljZSIsImZvckVhY2giLCJtb2RlbCIsIm1vZGVsTmFtZSIsImFzc29jaWF0ZSIsInN0YWNrdHJhY2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGV2ZWxvcG1lbnQiLCJEQl9VU0VSTkFNRSIsIkRCX1BBU1NXT1JEIiwiREJfREFUQUJBU0UiLCJEQl9IT1NUIiwiREJfRElBTEVDVCIsInRlc3QiLCJwcm9kdWN0aW9uIiwicGVvcGxlQ29udHJvbGxlciIsImhhbmRsZXIiXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7O1FBRUE7UUFDQTs7Ozs7OztBQzdEQSwwRDs7Ozs7OzsyTkNBU0EsTyxrS0FDQUEsTyxtS0FDQUEsTyx5SkFDQUEsTyw0SkFDQUEsTzs7Ozs7OzswbUNDRlQsS0FBTUMs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QURFLENBUWZDLEtBQU0sQ0FDSjNCLFNBQVU1RCxNQUFNa0YsV0FEWixDQUVKckIsU0FBVTdELE1BQU1tRixXQUZaLENBR0p4QixTQUFVM0QsTUFBTW9GLFdBSFosQ0FJSnRCLEtBQU05RCxNQUFNcUYsT0FKUixDQUtKckIsUUFBU2hFLE1BQU1zRixVQUxYLENBUlMsQ0FlZkUsV0FBWSxDQUNWNUIsU0FBVTVELE1BQU1rRixXQUROLENBRVZyQixTQUFVN0QsTUFBTW1GLFdBRk4sQ0FHVnhCLFNBQVUzRCxNQUFNb0YsV0FITixDQUlWdEIsS0FBTTlELE1BQU1xRixPQUpGLENBS1ZyQixRQUFTaEUsTUFBTXNGLFVBTEwsQ0FmRyxDQUFqQixDOzs7Ozs7OztBQ0pBLDZDQUNBLHlDQUVBLEtBQU1HLGtCQUFtQixHQUFJekssbUNBQUosQ0FBcUJVLHVCQUFyQixDQUF6QixDQUVBcUosT0FBT0MsT0FBUCxDQUFlVSxPQUFmLENBQXlCRCxpQkFBaUI5SixJQUFqQixDQUFzQnVDLElBQXRCLENBQTJCdUgsZ0JBQTNCLENBQXpCLEMiLCJmaWxlIjoiZnVuY3Rpb25zL3Blb3BsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMxKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA5MzkzOTc3N2QyM2FmMWViNWNjNiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImV4cG9ydCB7IGRlZmF1bHQgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tICcuL0NvbnRyb2xsZXInXG5leHBvcnQgeyBkZWZhdWx0IGFzIEV4Y2VwdGlvbnMgfSBmcm9tICcuL0V4Y2VwdGlvbnMnXG5leHBvcnQgeyBkZWZhdWx0IGFzIE1pZGRsZXdhcmUgfSBmcm9tICcuL01pZGRsZXdhcmUnXG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlcXVlc3QgfSBmcm9tICcuL1JlcXVlc3QnXG5leHBvcnQgeyBkZWZhdWx0IGFzIFJlc3BvbnNlIH0gZnJvbSAnLi9SZXNwb25zZSdcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9oZWxwZXJzL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmNsYXNzIEJhc2VFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlKVxuICAgIHRoaXMuY29kZSA9IHR5cGVvZiBjb2RlICE9PSAndW5kZWZpbmVkJyA/IGNvZGUgOiAwXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFeGNlcHRpb24gZXh0ZW5kcyBCYXNlRXhjZXB0aW9uIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUpXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDAwXG4gICAgdGhpcy5uYW1lID0gJ0JhZCBSZXF1ZXN0J1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbkF1dGhvcml6ZWRFeGNlcHRpb24gZXh0ZW5kcyBCYXNlRXhjZXB0aW9uIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUpXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDAxXG4gICAgdGhpcy5uYW1lID0gJ1VuYXV0aG9yaXplZCdcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBjb2RlKVxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDQwNFxuICAgIHRoaXMubmFtZSA9ICdOb3QgRm91bmQnXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFWYWxpZGF0aW9uRmFpbGVkRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBib2R5LCBjb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgY29kZSlcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSA0MjJcbiAgICB0aGlzLm5hbWUgPSAnRGF0YSBWYWxpZGF0aW9uIGZhaWxlZCdcbiAgICB0aGlzLmJvZHkgPSBib2R5XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBCYWRSZXF1ZXN0RXhjZXB0aW9uLFxuICBVbkF1dGhvcml6ZWRFeGNlcHRpb24sXG4gIE5vdEZvdW5kRXhjZXB0aW9uLFxuICBEYXRhVmFsaWRhdGlvbkZhaWxlZEV4Y2VwdGlvblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2hlbHBlcnMvRXhjZXB0aW9ucy5qcyIsIi8qKlxuICogQ2xhc3MgdG8gaGFuZGxlIHJlc3BvbnNlcyBiYWNrIHRvIExhbWJkYVxuICpcbiAqIEB0eXBlIHtSZXNwb25zZX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzcG9uc2Uge1xuICAvKipcbiAgICogUGFzcyB0aGUgTGFtYmRhIGZ1bmN0aW9uIHRoYXQgY29tZXMgaW4gdGhlIGhhbmRsZXJcbiAgICpcbiAgICogQHBhcmFtIGxhbWJkYUNhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGxhbWJkYUNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFjayA9IGxhbWJkYUNhbGxiYWNrXG4gICAgdGhpcy5fc3RhdHVzQ29kZSA9IDIwMFxuICAgIHRoaXMuX2hlYWRlcnMgPSB7fVxuICAgIHRoaXMuX29wdGlvbnMgPSB7fVxuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgc3RhdHVzIGNvZGVcbiAgICpcbiAgICogQHBhcmFtIHN0YXR1c0NvZGVcbiAgICogQHJldHVybnMge1Jlc3BvbnNlfVxuICAgKi9cbiAgc3RhdHVzQ29kZShzdGF0dXNDb2RlKSB7XG4gICAgaWYgKHN0YXR1c0NvZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3N0YXR1c0NvZGVcbiAgICB0aGlzLl9zdGF0dXNDb2RlID0gcGFyc2VJbnQoc3RhdHVzQ29kZSlcbiAgICBpZiAoaXNOYU4odGhpcy5fc3RhdHVzQ29kZSkpIHRoaXMuX3N0YXR1c0NvZGUgPSA1MDBcbiAgICBpZiAodGhpcy5fc3RhdHVzQ29kZSA8IDIwMCB8fCB0aGlzLl9zdGF0dXNDb2RlID4gNTk5KSB0aGlzLl9zdGF0dXNDb2RlID0gNTAwXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGhlYWRlcnMsIHJldHJpZXZlIGEgaGVhZGVyIG9yIGFkZCBvbmUvbWFueSBoZWFkZXJzXG4gICAqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgaGVhZGVycyhrZXksIHZhbHVlKSB7XG4gICAgLy8gSWYgY2FsbGVkIGVtcHR5IGl0IHJldHVybnMgYWxsIHRoZSBoZWFkZXJzXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJzXG4gICAgfVxuXG4gICAgLy8gU2V0IG9yIHJldHVybiB0aGUga2V5IHdoZW4gaXQgaXMgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpXSB8fCBudWxsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oZWFkZXJzW2tleS50b0xvd2VyQ2FzZSgpXSA9IHZhbHVlXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIG11bHRpcGxlIGhlYWRlcnNcbiAgICBsZXQgaGVhZGVyTmFtZXMgPSBPYmplY3Qua2V5cyhrZXkpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXJOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGhlYWRlck5hbWUgPSBoZWFkZXJOYW1lc1tpXS50b0xvd2VyQ2FzZSgpXG4gICAgICB0aGlzLl9oZWFkZXJzW2hlYWRlck5hbWVdID0ga2V5W2hlYWRlck5hbWVzW2ldXVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBvcHRpb25zKGtleSwgdmFsdWUpIHtcbiAgICAvLyBJZiBjYWxsZWQgZW1wdHkgaXQgcmV0dXJucyBhbGwgdGhlIG9wdGlvbnNcbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnNcbiAgICB9XG5cbiAgICAvLyBTZXQgb3IgcmV0dXJuIHRoZSBrZXkgd2hlbiBpdCBpcyBhIHN0cmluZ1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnNba2V5XSB8fCBudWxsXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9vcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBtdWx0aXBsZSBvcHRpb25zXG4gICAgbGV0IG9wdGlvbnNOYW1lcyA9IE9iamVjdC5rZXlzKGtleSlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnNOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG9wdGlvbk5hbWUgPSBvcHRpb25zTmFtZXNbaV1cbiAgICAgIHRoaXMuX29wdGlvbnNbb3B0aW9uTmFtZV0gPSBrZXlbb3B0aW9uc05hbWVzW2ldXVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2VuZCB0aGUgYm9keSBhcyBhIHJlc3BvbnNlXG4gICAqXG4gICAqIEBwYXJhbSBib2R5XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNlbmQoYm9keSkge1xuICAgIGNvbnN0IHsgcmF3LCAuLi5yZXN0IH0gPSB0aGlzLl9vcHRpb25zXG5cbiAgICBpZiAoYm9keSA9PT0gdW5kZWZpbmVkKSBib2R5ID0ge31cbiAgICBpZiAoIXJhdykge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ICE9PSAnb2JqZWN0JykgYm9keSA9IHsgbWVzc2FnZTogYm9keSB9XG4gICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSB8fCB7fSlcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrKG51bGwsIHtcbiAgICAgIHN0YXR1c0NvZGU6IHRoaXMuX3N0YXR1c0NvZGUsXG4gICAgICBib2R5LFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIC4uLnJlc3RcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEZhaWwgd2l0aCBhIDRYWCBzdGF0dXNDb2RlXG4gICAqXG4gICAqIEBwYXJhbSBib2R5XG4gICAqIEBwYXJhbSBzdGF0dXNDb2RlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZhaWwoYm9keSwgc3RhdHVzQ29kZSkge1xuICAgIGlmIChib2R5ID09PSB1bmRlZmluZWQpIGJvZHkgPSB7fVxuICAgIGlmICh0eXBlb2YgYm9keSAhPT0gJ29iamVjdCcpIGJvZHkgPSB7IG1lc3NhZ2U6IGJvZHkgfVxuICAgIHRoaXMuc3RhdHVzQ29kZShNYXRoLmFicyhwYXJzZUludChzdGF0dXNDb2RlIHx8IDQwMCkpICUgMTAwICsgNDAwKS5zZW5kKFxuICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZydcbiAgICAgICAgfSxcbiAgICAgICAgYm9keSB8fCB7fVxuICAgICAgKVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBGYWlsIHdpdGggYSA1WFggc3RhdHVzQ29kZVxuICAgKlxuICAgKiBAcGFyYW0gZXJyXG4gICAqIEBwYXJhbSBzdGF0dXNDb2RlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZhaWw1MDAoZXJyLCBzdGF0dXNDb2RlKSB7XG4gICAgaWYgKGVyciA9PT0gdW5kZWZpbmVkKSBlcnIgPSBuZXcgRXJyb3IoXCJDYWxsZWQgJ2ZhaWw1MDAnIHdpdGhvdXQgZXJyb3JcIilcbiAgICBpZiAoIWVycikgZXJyID0geyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9XG5cbiAgICAvLyBMb2cgdGhlIGVycm9yIHRvIGlkZW50aWZ5IGxhdGVyXG4gICAgaWYgKGVyci5zdGFjaykge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgIH1cblxuICAgIC8vIFNlbmQgYSByZXNwb25zZSBpbiBhIHByb3BlciBmb3JtYXQgdG8gdGhlIGN1c3RvbWVyXG4gICAgdGhpcy5zdGF0dXNDb2RlKE1hdGguYWJzKHBhcnNlSW50KHN0YXR1c0NvZGUgfHwgNTAwKSkgJSAxMDAgKyA1MDApLnNlbmQoe1xuICAgICAgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcidcbiAgICB9KVxuICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vaGVscGVycy9SZXNwb25zZS5qcyIsIi8qKlxuICogQSBSZXF1ZXN0IHR5cGUgdG8gZWFzaWx5IHNlbmQgcmVxdWVzdHMgdG8gc2VydmljZXNcbiAqXG4gKiBAdHlwZSB7UmVxdWVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHJlcXVlc3QgYnkgcGFzc2luZyB0aGUgZXZlbnQgYW5kIGNvbnRleHQgcmVjZWl2ZWRcbiAgICogaW4gdGhlIGxhbWJkYSBoYW5kbGVyLiBUaGlzIGNsYXNzIGhhcyBtZXRob2RzIHRvIHJldHJpZXZlIGluZm9cbiAgICogZnJvbSB0aG9zZSBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gY29udGV4dFxuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcihldmVudCwgY29udGV4dCkge1xuICAgIHRoaXMuZXZlbnQgPSBldmVudFxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0IGEgdmFsdWUgZnJvbSBhbiBvYmplY3QgdXNpbmcgZG90IG5vdGF0aW9uLiBJdCBjYW5cbiAgICogZ2V0IG5lc3RlZCBvYmplY3RzXG4gICAqXG4gICAqIEBwYXJhbSBvYmpcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKiBAcHVibGljXG4gICAqL1xuICBfX2dldChvYmosIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWZhdWx0VmFsdWVcbiAgICBjb25zdCBwYXRoID0ga2V5LnNwbGl0KCcuJylcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAob2JqW3BhdGhbaV1dKSB7XG4gICAgICAgICAgb2JqID0gb2JqW3BhdGhbaV1dXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqID0gZGVmYXVsdFZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVmYXVsdFZhbHVlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlZmF1bHRWYWx1ZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsdWUgZnJvbSBhIHBhdGggdmFyaWFibGVcbiAgICpcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gZGVmVmFsXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKiBAcHVibGljXG4gICAqL1xuICBwYXRoKGtleSwgZGVmVmFsKSB7XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5ldmVudC5wYXRoUGFyYW1ldGVycyB8fCB7fVxuICAgIHJldHVybiB0aGlzLl9fZ2V0KHRoaXMuZXZlbnQucGF0aFBhcmFtZXRlcnMsIGtleSwgZGVmVmFsKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIGJvZHkgb2YgdGhlIHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gZGVmVmFsXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKiBAcHVibGljXG4gICAqL1xuICBwb3N0KGtleSwgZGVmVmFsKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYm9keSBpcyBub3QgYSBKU09OIHN0cmluZyBidXQgYW4gb2JqZWN0XG4gICAgLy8gYmVjYXVzZSBBV1Mgc2VuZHMgaXQgYXMgYSBKU09OIHN0cmluZ1xuICAgIGlmICh0aGlzLmV2ZW50LmJvZHkgJiYgdHlwZW9mIHRoaXMuZXZlbnQuYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZXZlbnQuYm9keSA9IEpTT04ucGFyc2UodGhpcy5ldmVudC5ib2R5KVxuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgdGhpcy5ldmVudC5ib2R5ID0ge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmV2ZW50LmJvZHkgfHwge31cbiAgICByZXR1cm4gdGhpcy5fX2dldCh0aGlzLmV2ZW50LmJvZHksIGtleSwgZGVmVmFsKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIHF1ZXJ5IHBhcmFtZXRlcnNcbiAgICpcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gZGVmVmFsXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKiBAcHVibGljXG4gICAqL1xuICBxdWVyeShrZXksIGRlZlZhbCkge1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuZXZlbnQucXVlcnlTdHJpbmdQYXJhbWV0ZXJzIHx8IHt9XG4gICAgcmV0dXJuIHRoaXMuX19nZXQodGhpcy5ldmVudC5xdWVyeVN0cmluZ1BhcmFtZXRlcnMsIGtleSwgZGVmVmFsKVxuICB9XG5cbiAgLyoqXG4gICAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgbWV0aG9kXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gIG1ldGhvZCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudC5odHRwTWV0aG9kIHx8ICcnXG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgaGVhZGVyc1xuICAgKlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwYXJhbSBkZWZWYWxcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBoZWFkZXJzKGtleSwgZGVmVmFsKSB7XG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5ldmVudC5oZWFkZXJzIHx8IHt9XG4gICAgcmV0dXJuIHRoaXMuX19nZXQodGhpcy5ldmVudC5oZWFkZXJzLCBrZXksIGRlZlZhbClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIElQIEFkZHJlc3Mgb2YgdGhlIHJlcXVlc3QgZnJvbSB0aGUgQVdTIGV2ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgaXAoKSB7XG4gICAgbGV0IGlwVmFsID0gdGhpcy5fX2dldCh0aGlzLmV2ZW50LCAncmVxdWVzdENvbnRleHQuaWRlbnRpdHkuc291cmNlSXAnLCBudWxsKVxuICAgIGlmIChpcFZhbCA9PT0gJzo6Jykge1xuICAgICAgaXBWYWwgPSAnMTI3LjAuMC4xJ1xuICAgIH1cbiAgICByZXR1cm4gaXBWYWxcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2hlbHBlcnMvUmVxdWVzdC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJwYXRoXCJcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgU3dhcGkgZnJvbSAnLi9zd2FwaSdcblxuZXhwb3J0IHtcbiAgU3dhcGlcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi91dGlscy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInllbnZcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJ5ZW52XCJcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJjbGFzcyBJUmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICh0aGlzLmNyZWF0ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ011c3Qgb3ZlcnJpZGUgLmNyZWF0ZSgpIG1ldGhvZC4nKVxuICAgIGlmICh0aGlzLnVwZGF0ZSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ011c3Qgb3ZlcnJpZGUgLnVwZGF0ZSgpIG1ldGhvZCcpXG4gICAgaWYgKHRoaXMuZ2V0ID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignTXVzdCBvdmVycmlkZSAuZ2V0KCkgbWV0b2QnKVxuICAgIGlmICh0aGlzLmdldEJ5SWQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IG92ZXJyaWRlIC5nZXRCeUlkKCkgbWV0aG9kJylcbiAgICBpZiAodGhpcy5yZW1vdmUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IG92ZXJyaWRlIC5yZW1vdmUoKSBtZXRob2QnKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElSZXBvc2l0b3J5XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVwb3NpdG9yaWVzL0lSZXBvc2l0b3J5LmpzIiwiaW1wb3J0IEZpbG1Db250cm9sbGVyIGZyb20gJy4vRmlsbSdcbmltcG9ydCBQZW9wbGVDb250cm9sbGVyIGZyb20gJy4vUGVvcGxlJ1xuXG5leHBvcnQge1xuICBGaWxtQ29udHJvbGxlcixcbiAgUGVvcGxlQ29udHJvbGxlclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRyb2xsZXJzL2luZGV4LmpzIiwiaW1wb3J0IHsgY29uY2F0LCBnZXQgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBCYXNlQ29udHJvbGxlciwgTWlkZGxld2FyZSB9IGZyb20gJ3N3YXBpLWhlbHBlcnMnXG5pbXBvcnQgeyBTd2FwaSB9IGZyb20gJ3N3YXBpLXV0aWxzJ1xuXG5jb25zdCB7IENvcnNNaWRkbGV3YXJlIH0gPSBNaWRkbGV3YXJlXG5cbmNvbnN0IGdldEZpbG1zID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgU3dhcGkuZ2V0RmlsbXMoZGF0YSA9PiByZXNvbHZlKGRhdGEpKVxuICAgIH1cbiAgKVxufVxuXG5jbGFzcyBGaWxtUmVwb3NpdG9yeUNvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKHVuaXRPZldvcmspIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy51bml0T2ZXb3JrID0gdW5pdE9mV29ya1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGluaXQoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5taWRkbGV3YXJlKENvcnNNaWRkbGV3YXJlKVxuXG4gICAgcmV0dXJuIHN1cGVyLmluaXQoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlKGV2ZW50LCBjb250ZXh0LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMucmVxdWVzdC5tZXRob2QoKVxuICAgIHZhciBvcGVyYXRpb24gPSBudWxsXG5cbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSAnR0VUJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy5nZXQoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUE9TVCc6XG4gICAgICAgIG9wZXJhdGlvbiA9IGF3YWl0IHRoaXMuY3JlYXRlKClcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ1BBVENIJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy51cGRhdGUoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnREVMRVRFJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy5yZW1vdmUoKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBlcnJvcjogJ01ldGhvZCBub3Qgc3VwcG9ydGVkIScgfSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gb3BlcmF0aW9uXG4gIH1cblxuICBhc3luYyBnZXQoKSB7XG4gICAgY29uc3QgeyBGaWxtUmVwb3NpdG9yeSB9ID0gdGhpcy51bml0T2ZXb3JrXG4gICAgY29uc3QgZmlsdGVycyA9IHRoaXMucmVxdWVzdC5xdWVyeSgpXG4gICAgY29uc3QgZmlsbXMgPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS5nZXQoZmlsdGVycykgfHwgW11cblxuICAgIGNvbnN0IGZpbG1zQXBpID0gYXdhaXQgZ2V0RmlsbXMoKVxuICAgIGNvbnN0IHJlc3VsdHMgPSBjb25jYXQoXG4gICAgICBnZXQoZmlsbXNBcGksICdyZXN1bHRzJywgW10pLFxuICAgICAgZmlsbXNcbiAgICApXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZmlsbXNBcGksXG4gICAgICByZXN1bHRzLFxuICAgICAgY291bnQ6IGZpbG1zQXBpLmNvdW50ICsgcmVzdWx0cy5sZW5ndGhcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCeUlkKCkge1xuICAgIGNvbnN0IHsgRmlsbVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcbiAgICBjb25zdCBmaWxtID0gYXdhaXQgRmlsbVJlcG9zaXRvcnkuZ2V0QnlJZChpZClcblxuICAgIHJldHVybiBmaWxtXG4gIH1cblxuICBhc3luYyBjcmVhdGUoKSB7XG4gICAgY29uc3QgeyBGaWxtUmVwb3NpdG9yeSB9ID0gdGhpcy51bml0T2ZXb3JrXG4gICAgY29uc3QgZmlsbSA9IHRoaXMucmVxdWVzdC5wb3N0KClcblxuICAgIGNvbnN0IGNyZWF0ZWQgPSBEYXRlKERhdGUubm93KCkpLnRvU3RyaW5nKClcbiAgICBjb25zdCBmaWxtU2F2ZWQgPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS5jcmVhdGUoeyAuLi5maWxtLCBjcmVhdGVkIH0pXG5cbiAgICBjb25zdCBjaGlsZHMgPSBbJ3Blb3BsZScsICdwbGFuZXQnLCAnc3BlY2llJywgJ3N0YXJzaGlwJywgJ3ZlaGljbGUnXVxuICAgIGNvbnN0IGNoZWNrQW5kQ3JlYXRlQ2hpbGRzID0gKGVudGl0eSA9IG51bGwpID0+IHtcbiAgICAgIGlmIChmaWxtW2VudGl0eV0pIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsbVtlbnRpdHldKSkge1xuICAgICAgICAgIHJldHVybiBmaWxtW2VudGl0eV0ubWFwKGUgPT4gZmlsbVNhdmVkLmNyZWF0ZUZpbG1SZWxhdGlvbih7XG4gICAgICAgICAgICByZWxhdGlvbl9pZDogZSxcbiAgICAgICAgICAgIHJlbGF0aW9uOiBlbnRpdHksXG4gICAgICAgICAgICBjcmVhdGVkXG4gICAgICAgICAgfSkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZpbG1TYXZlZC5jcmVhdGVGaWxtUmVsYXRpb24oe1xuICAgICAgICAgICAgcmVsYXRpb25faWQ6IGZpbG1bZW50aXR5XSxcbiAgICAgICAgICAgIHJlbGF0aW9uOiBlbnRpdHksXG4gICAgICAgICAgICBjcmVhdGVkXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGNoaWxkcy5tYXAoZSA9PiBjaGVja0FuZENyZWF0ZUNoaWxkcyhlKSkpXG5cbiAgICByZXR1cm4gZmlsbVNhdmVkXG4gIH1cblxuICBhc3luYyB1cGRhdGUoKSB7XG4gICAgY29uc3QgeyBGaWxtUmVwb3NpdG9yeSB9ID0gdGhpcy51bml0T2ZXb3JrXG4gICAgY29uc3QgeyBpZCB9ID0gdGhpcy5yZXF1ZXN0LnBhdGgoKVxuICAgIGNvbnN0IGZpbG0gPSB0aGlzLnJlcXVlc3QucG9zdCgpXG5cbiAgICBjb25zdCByb3dVcGRhdGUgPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS51cGRhdGUoaWQsIGZpbG0pXG5cbiAgICBpZiAocm93VXBkYXRlKSB7XG4gICAgICBjb25zdCBmaWxtVXBkYXRlZCA9IGF3YWl0IEZpbG1SZXBvc2l0b3J5LmdldEJ5SWQoaWQpXG5cbiAgICAgIHJldHVybiBmaWxtVXBkYXRlZFxuICAgIH1cblxuICAgIHJldHVybiB7fVxuICB9XG5cbiAgYXN5bmMgcmVtb3ZlKCkge1xuICAgIGNvbnN0IHsgRmlsbVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcblxuICAgIGNvbnN0IGZpbG0gPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS5yZW1vdmUoaWQpXG5cbiAgICByZXR1cm4gZmlsbVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbG1SZXBvc2l0b3J5Q29udHJvbGxlclxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NvbnRyb2xsZXJzL0ZpbG0uanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJsb2Rhc2hcIlxuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IEV4Y2VwdGlvbnMgZnJvbSAnLi9FeGNlcHRpb25zJ1xuaW1wb3J0IFJlc3BvbnNlIGZyb20gJy4vUmVzcG9uc2UnXG5pbXBvcnQgUmVxdWVzdCBmcm9tICcuL1JlcXVlc3QnXG5cbmNvbnN0IHtcbiAgQmFkUmVxdWVzdEV4Y2VwdGlvbixcbiAgRGF0YVZhbGlkYXRpb25GYWlsZWRFeGNlcHRpb24sXG4gIFVuQXV0aG9yaXplZEV4Y2VwdGlvbixcbiAgTm90Rm91bmRFeGNlcHRpb25cbn0gPSBFeGNlcHRpb25zXG5cbmNsYXNzIEJhc2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5taWRkbGV3YXJlcyA9IFtdXG4gIH1cblxuICBpbml0KGV2ZW50LCBjb250ZXh0LCBjYWxsYmFjaykge1xuICAgIHRoaXMucmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGV2ZW50LCBjb250ZXh0KVxuICAgIHRoaXMucmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoY2FsbGJhY2spXG5cbiAgICBjb250ZXh0LmNhbGxiYWNrV2FpdHNGb3JFbXB0eUV2ZW50TG9vcCA9IGZhbHNlXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbWlkZGxld2FyZVByb21pc2UgPSB0aGlzLnByb2Nlc3NSZXF1ZXN0KClcbiAgICAgIGNvbnN0IGhhbmRsZSA9IHRoaXMuaGFuZGxlLmJpbmQodGhpcylcbiAgICAgIHJldHVybiBtaWRkbGV3YXJlUHJvbWlzZVxuICAgICAgICAudGhlbihoYW5kbGUpXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHRoaXMucmVzcG9uc2Uuc2VuZChyZXNwb25zZSkpXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUV4Y2VwdGlvbihlKVxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuaGFuZGxlRXhjZXB0aW9uKGUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFlvdSBNVVNUIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cbiAgICogSXQgaXMgc3VwcG9zZWQgdG8gYmUgdXNlZCB0byBoYW5kbGUgdGhlIGxvZ2ljIGluXG4gICAqIHlvdXIgY29udHJvbGxlci4gU2hvdWxkIHJldHVybnMgYSBwcm9taXNlIG9yIHJhaXNlXG4gICAqIGFuIEV4Y2VwdGlvbiBmcm9tIGNvcmUvRXhjZXB0aW9uc1xuICAgKi9cbiAgaGFuZGxlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgaW1wbGVtZW50IHRoZSBtZXRob2QgaGFuZGxlJylcbiAgfVxuXG4gIG1pZGRsZXdhcmUobWlkZGxld2FyZUNsYXNzKSB7XG4gICAgdGhpcy5taWRkbGV3YXJlcy5wdXNoKG1pZGRsZXdhcmVDbGFzcylcbiAgfVxuXG4gIHByb2Nlc3NSZXF1ZXN0KCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWlkZGxld2FyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBNaWRkbGV3YXJlID0gdGhpcy5taWRkbGV3YXJlc1tpXVxuICAgICAgbGV0IG1pZGRsZXdhcmVPYmogPSBuZXcgTWlkZGxld2FyZSh0aGlzLnJlcXVlc3QsIHRoaXMucmVzcG9uc2UpXG4gICAgICBsZXQgbWV0aG9kID0gbWlkZGxld2FyZU9iai5wcm9jZXNzUmVxdWVzdC5iaW5kKG1pZGRsZXdhcmVPYmopXG4gICAgICBwcm9taXNlcy5wdXNoKG1ldGhvZCgpKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFByb21pc2UuYWxsKHByb21pc2VzKSlcbiAgfVxuXG4gIGhhbmRsZUV4Y2VwdGlvbihlKSB7XG4gICAgY29uc3QgaXNTaW1pbGFyRXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY29uc3Qgc2ltaWxhckVycm9ycyA9IFtcbiAgICAgICAgQmFkUmVxdWVzdEV4Y2VwdGlvbixcbiAgICAgICAgVW5BdXRob3JpemVkRXhjZXB0aW9uLFxuICAgICAgICBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAgXVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaW1pbGFyRXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2Ygc2ltaWxhckVycm9yc1tpXSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpc1NpbWlsYXJFcnJvcihlKSkge1xuICAgICAgdGhpcy5yZXNwb25zZS5mYWlsKFxuICAgICAgICB7XG4gICAgICAgICAgc3RhdHVzOiBlLnN0YXR1c0NvZGUsXG4gICAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZSxcbiAgICAgICAgICBjb2RlOiBlLmNvZGVcbiAgICAgICAgfSxcbiAgICAgICAgZS5zdGF0dXNDb2RlXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChlIGluc3RhbmNlb2YgRGF0YVZhbGlkYXRpb25GYWlsZWRFeGNlcHRpb24pIHtcbiAgICAgIHRoaXMucmVzcG9uc2Uuc3RhdHVzQ29kZShlLnN0YXR1c0NvZGUpLnNlbmQoZS5ib2R5KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc3BvbnNlLmZhaWw1MDAoZSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZUNvbnRyb2xsZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2hlbHBlcnMvQ29udHJvbGxlci5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5pbXBvcnQgaTE4biBmcm9tICdpMThuJ1xuXG5pMThuLmNvbmZpZ3VyZSh7XG4gIGRpcmVjdG9yeTogcGF0aC5qb2luKF9fZGlybmFtZSwgJy4vcmVzb3VyY2VzL2xhbmcnKSxcbiAgcmVnaXN0ZXI6IGdsb2JhbCxcbiAgdXBkYXRlRmlsZXM6IGZhbHNlLFxuICBkZWZhdWx0TG9jYWxlOiAnZW4nXG59KVxuXG4vKipcbiAqIEV2ZXJ5IG1pZGRsZXdhcmUgY2FuIGRlZmluZSBwcm9jZXNzUmVxdWVzdC5cbiAqIFRoYXQgbWV0aG9kIG11c3QgcmV0dXJuIGEgUHJvbWlzZVxuICovXG5jbGFzcyBCYXNlTWlkZGxld2FyZSB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdFxuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZVxuICB9XG59XG5cbmNsYXNzIExhbmd1YWdlTWlkZGxld2FyZSBleHRlbmRzIEJhc2VNaWRkbGV3YXJlIHtcbiAgcHJvY2Vzc1JlcXVlc3QoKSB7XG4gICAgbGV0IGhlYWRlcnMgPSB0aGlzLnJlcXVlc3QuaGVhZGVycygpXG4gICAgdGhpcy5yZXF1ZXN0Lmxhbmd1YWdlID0gJ2VuJ1xuICAgIGlmIChoZWFkZXJzWydBY2NlcHQtTGFuZ3VhZ2UnXSkge1xuICAgICAgdGhpcy5yZXF1ZXN0Lmxhbmd1YWdlID0gaGVhZGVyc1snQWNjZXB0LUxhbmd1YWdlJ10uc3Vic3RyaW5nKDAsIDIpXG4gICAgICBpMThuLnNldExvY2FsZSh0aGlzLnJlcXVlc3QubGFuZ3VhZ2UpXG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICB9XG59XG5cbmNsYXNzIENvcnNNaWRkbGV3YXJlIGV4dGVuZHMgQmFzZU1pZGRsZXdhcmUge1xuICBwcm9jZXNzUmVxdWVzdCgpIHtcbiAgICB0aGlzLnJlc3BvbnNlLmhlYWRlcnMoe1xuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscyc6IHRydWVcbiAgICB9KVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgTGFuZ3VhZ2VNaWRkbGV3YXJlLFxuICBDb3JzTWlkZGxld2FyZVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2hlbHBlcnMvTWlkZGxld2FyZS5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImkxOG5cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJpMThuXCJcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XG5jb25zdCB5ZW52ID0gcmVxdWlyZSgneWVudicpXG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBzdGFnZSA9IHllbnYoJy5lbnYueW1sJywgeyBlbnYgfSlcblxuY29uc3Qgc3dhcGlNb2R1bGUgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcm9vdFVSTCA9IHN0YWdlLlNXQVBJX1VSTDtcblxuICBmdW5jdGlvbiByZXF1ZXN0KHVybCwgY2IpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYihkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlc291cmNlcyhjYikge1xuICAgIHJldHVybiByZXF1ZXN0KHJvb3RVUkwsIGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvcihwYXRoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpZCwgY2IpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0KHJvb3RVUkwgKyBwYXRoICsgXCIvXCIgKyBpZCArIFwiL1wiLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsdXJhbFJlcXVlc3RHZW5lcmF0b3IocGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIGxldCBxdWVyeU9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIGxldCBjYiA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHF1ZXJ5T2JqZWN0ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICBjYiA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzWzBdKSB7XG4gICAgICAgIC8vIElmIGdpdmVuIGV4YWN0bHkgb25lIGFyZ3VtZW50XG4gICAgICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjYiA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICBxdWVyeU9iamVjdCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2IgPSBudWxsO1xuICAgICAgICAgIHF1ZXJ5T2JqZWN0ID0gYXJndW1lbnRzWzBdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWVyeU9iamVjdCkge1xuICAgICAgICBsZXQgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnlPYmplY3QpKSB7XG4gICAgICAgICAgbGV0IHZhbHVlID0gcXVlcnlPYmplY3Rba2V5XTtcbiAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXF1ZXN0KHJvb3RVUkwgKyBwYXRoICsgXCIvP1wiICsgc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCksIGNiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcXVlc3Qocm9vdFVSTCArIHBhdGggKyBcIi9cIiwgY2IpO1xuXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0UmVzb3VyY2VzOiBnZXRSZXNvdXJjZXMsXG4gICAgZ2V0UGVyc29uOiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IoXCJwZW9wbGVcIiksXG4gICAgZ2V0UGVvcGxlOiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKFwicGVvcGxlXCIpLFxuICAgIGdldEZpbG06IHNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvcihcImZpbG1zXCIpLFxuICAgIGdldEZpbG1zOiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKFwiZmlsbXNcIiksXG4gICAgZ2V0UGxhbmV0OiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IoXCJwbGFuZXRzXCIpLFxuICAgIGdldFBsYW5ldHM6IHBsdXJhbFJlcXVlc3RHZW5lcmF0b3IoXCJwbGFuZXRzXCIpLFxuICAgIGdldFNwZWNpZXM6IHNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvcihcInNwZWNpZXNcIiksXG4gICAgZ2V0QWxsU3BlY2llczogcGx1cmFsUmVxdWVzdEdlbmVyYXRvcihcInNwZWNpZXNcIiksXG4gICAgZ2V0U3RhcnNoaXA6IHNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvcihcInN0YXJzaGlwc1wiKSxcbiAgICBnZXRTdGFyc2hpcHM6IHBsdXJhbFJlcXVlc3RHZW5lcmF0b3IoXCJzdGFyc2hpcHNcIiksXG4gICAgZ2V0VmVoaWNsZTogc2luZ3VsYXJSZXF1ZXN0R2VuZXJhdG9yKFwidmVoaWNsZXNcIiksXG4gICAgZ2V0VmVoaWNsZXM6IHBsdXJhbFJlcXVlc3RHZW5lcmF0b3IoXCJ2ZWhpY2xlc1wiKVxuICB9O1xufSkoKVxuXG5leHBvcnQgZGVmYXVsdCBzd2FwaU1vZHVsZVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3V0aWxzL3N3YXBpLmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZS1mZXRjaFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIm5vZGUtZmV0Y2hcIlxuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJpbXBvcnQgeyBCYXNlQ29udHJvbGxlciwgTWlkZGxld2FyZSB9IGZyb20gJ3N3YXBpLWhlbHBlcnMnXG5pbXBvcnQgeyBTd2FwaSB9IGZyb20gJ3N3YXBpLXV0aWxzJ1xuXG5jb25zdCB7IENvcnNNaWRkbGV3YXJlIH0gPSBNaWRkbGV3YXJlXG5cbmNvbnN0IGdldFBlb3BsZVJlcG9zaXRvcnlzID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgU3dhcGkuZ2V0UGVvcGxlUmVwb3NpdG9yeXMoZGF0YSA9PiByZXNvbHZlKGRhdGEpKVxuICAgIH1cbiAgKVxufVxuXG5jbGFzcyBQZW9wbGVSZXBvc2l0b3J5Q29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IodW5pdE9mV29yaykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnVuaXRPZldvcmsgPSB1bml0T2ZXb3JrXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUoQ29yc01pZGRsZXdhcmUpXG5cbiAgICByZXR1cm4gc3VwZXIuaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spXG4gIH1cblxuICBhc3luYyBoYW5kbGUoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5yZXF1ZXN0Lm1ldGhvZCgpXG4gICAgdmFyIG9wZXJhdGlvbiA9IG51bGxcblxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdHRVQnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLmdldCgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy5jcmVhdGUoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUEFUQ0gnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnJlbW92ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnTWV0aG9kIG5vdCBzdXBwb3J0ZWQhJyB9KVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiBvcGVyYXRpb25cbiAgfVxuXG4gIGFzeW5jIGdldCgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLnJlcXVlc3QucXVlcnkoKVxuICAgIGNvbnN0IHBlb3BsZXMgPSBhd2FpdCBQZW9wbGVSZXBvc2l0b3J5LmdldChmaWx0ZXJzKVxuICAgIGNvbnN0IHBlb3BsZXNBcGkgPSBhd2FpdCBnZXRQZW9wbGVSZXBvc2l0b3J5cygpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGVvcGxlc0FwaSxcbiAgICAgIHJlc3VsdHM6IHBlb3BsZXNBcGkucmVzdWx0cy5jb25jYXQocGVvcGxlcylcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCeUlkKCkge1xuICAgIGNvbnN0IHsgUGVvcGxlUmVwb3NpdG9yeSB9ID0gdGhpcy51bml0T2ZXb3JrXG4gICAgY29uc3QgeyBpZCB9ID0gdGhpcy5yZXF1ZXN0LnBhdGgoKVxuICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuZ2V0QnlJZChpZClcblxuICAgIHJldHVybiBwZW9wbGVcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHBlb3BsZSA9IHRoaXMucmVxdWVzdC5wb3N0KClcblxuICAgIGNvbnN0IGNyZWF0ZWQgPSBEYXRlKERhdGUubm93KCkpLnRvU3RyaW5nKClcbiAgICBjb25zdCBwZW9wbGVTYXZlZCA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuY3JlYXRlKHsgLi4ucGVvcGxlLCBjcmVhdGVkIH0pXG5cbiAgICByZXR1cm4gcGVvcGxlU2F2ZWRcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcbiAgICBjb25zdCBwZW9wbGUgPSB0aGlzLnJlcXVlc3QucG9zdCgpXG5cbiAgICBjb25zdCByb3dVcGRhdGUgPSBhd2FpdCBQZW9wbGVSZXBvc2l0b3J5LnVwZGF0ZShpZCwgcGVvcGxlKVxuXG4gICAgaWYgKHJvd1VwZGF0ZSkge1xuICAgICAgY29uc3QgcGVvcGxlVXBkYXRlZCA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuZ2V0QnlJZChpZClcblxuICAgICAgcmV0dXJuIHBlb3BsZVVwZGF0ZWRcbiAgICB9XG5cbiAgICByZXR1cm4ge31cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcblxuICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkucmVtb3ZlKGlkKVxuXG4gICAgcmV0dXJuIHBlb3BsZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBlb3BsZVJlcG9zaXRvcnlDb250cm9sbGVyXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29udHJvbGxlcnMvUGVvcGxlLmpzIiwiaW1wb3J0IFVuaXRPZldvcmsgZnJvbSAnLi9Vbml0T2ZXb3JrJ1xuaW1wb3J0IERCQ29udGV4dCBmcm9tICcuL0RCQ29udGV4dCdcblxuY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKERCQ29udGV4dClcblxuZXhwb3J0IHtcbiAgdW5pdE9mV29ya1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BlcnNpc3RlbmNlL2luZGV4LmpzIiwiaW1wb3J0IHtcbiAgRmlsbVJlcG9zaXRvcnksXG4gIFBlb3BsZVJlcG9zaXRvcnlcbn0gZnJvbSAnc3dhcGktcmVwb3NpdG9yaWVzJ1xuXG5jbGFzcyBVbml0T2ZXb3JrIHtcbiAgY29uc3RydWN0b3IoZGJDb250ZXh0KSB7XG4gICAgdGhpcy5kYkNvbnRleHQgPSBkYkNvbnRleHRcblxuICAgIHRoaXMuRmlsbVJlcG9zaXRvcnkgPSBuZXcgRmlsbVJlcG9zaXRvcnkoZGJDb250ZXh0KVxuICAgIHRoaXMuUGVvcGxlUmVwb3NpdG9yeSA9IG5ldyBQZW9wbGVSZXBvc2l0b3J5KGRiQ29udGV4dClcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVuaXRPZldvcmsgXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGVyc2lzdGVuY2UvVW5pdE9mV29yay5qcyIsImltcG9ydCBGaWxtUmVwb3NpdG9yeSBmcm9tICcuL0ZpbG0nXG5pbXBvcnQgUGVvcGxlUmVwb3NpdG9yeSBmcm9tICcuL1Blb3BsZSdcblxuZXhwb3J0IHtcbiAgRmlsbVJlcG9zaXRvcnksXG4gIFBlb3BsZVJlcG9zaXRvcnlcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXBvc2l0b3JpZXMvaW5kZXguanMiLCJpbXBvcnQgSVJlcG9zaXRvcnkgZnJvbSAnLi9JUmVwb3NpdG9yeSdcblxuY2xhc3MgRmlsbVJlcG9zaXRvcnkgZXh0ZW5kcyBJUmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGRiQ29udGV4dCkge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMuZGJDb250ZXh0ID0gZGJDb250ZXh0XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlKGZpbG0pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBGaWxtIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgZmlsbVNhdmVkID0gYXdhaXQgRmlsbS5jcmVhdGUoZmlsbSlcblxuICAgICAgcmV0dXJuIGZpbG1TYXZlZFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlKGlkLCBmaWxtKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgRmlsbSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICAgIGNvbnN0IGZpbG1TYXZlZCA9IGF3YWl0IEZpbG0udXBkYXRlKGZpbG0sIHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgICByZXR1cm4gZmlsbVNhdmVkXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXQoZmlsdGVycykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IEZpbG0gfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgICBjb25zdCBmaWxtID0gYXdhaXQgRmlsbS5maW5kQWxsKGZpbHRlcnMpXG5cbiAgICAgIHJldHVybiBmaWxtXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCeUlkKGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgRmlsbSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICAgIGNvbnN0IGZpbG0gPSBhd2FpdCBGaWxtLmZpbmRPbmUoeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICAgIHJldHVybiBmaWxtXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyByZW1vdmUoaWQpIHtcbiAgICBjb25zdCB7IEZpbG0gfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgY29uc3QgZmlsbSA9IGF3YWl0IEZpbG0uZmluZE9uZSh7IHdoZXJlOiB7IGlkIH0gfSlcblxuICAgIGF3YWl0IEZpbG0uZGVzdHJveSh7IHdoZXJlOiB7IGlkIH0gfSlcblxuICAgIHJldHVybiBmaWxtXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsbVJlcG9zaXRvcnlcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXBvc2l0b3JpZXMvRmlsbS5qcyIsImltcG9ydCBJUmVwb3NpdG9yeSBmcm9tICcuL0lSZXBvc2l0b3J5J1xuXG5jbGFzcyBQZW9wbGVSZXBvc2l0b3J5IGV4dGVuZHMgSVJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3RvcihkYkNvbnRleHQpIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLmRiQ29udGV4dCA9IGRiQ29udGV4dFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZShwZW9wbGUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBQZW9wbGUgfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgICBjb25zdCBwZW9wbGVTYXZlZCA9IGF3YWl0IFBlb3BsZS5jcmVhdGUocGVvcGxlKVxuXG4gICAgICByZXR1cm4gcGVvcGxlU2F2ZWRcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZShpZCwgcGVvcGxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgUGVvcGxlIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgcGVvcGxlU2F2ZWQgPSBhd2FpdCBQZW9wbGUudXBkYXRlKHBlb3BsZSwgeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICAgIHJldHVybiBwZW9wbGVTYXZlZFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0KGZpbHRlcnMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBQZW9wbGUgfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgICBjb25zdCBwZW9wbGUgPSBhd2FpdCBQZW9wbGUuZmluZEFsbChmaWx0ZXJzKVxuXG4gICAgICByZXR1cm4gcGVvcGxlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCeUlkKGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgUGVvcGxlIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgcGVvcGxlID0gYXdhaXQgUGVvcGxlLmZpbmRPbmUoeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICAgIHJldHVybiBwZW9wbGVcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZShpZCkge1xuICAgIGNvbnN0IHsgUGVvcGxlIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZS5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgYXdhaXQgUGVvcGxlLmRlc3Ryb3koeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICByZXR1cm4gcGVvcGxlXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGVvcGxlUmVwb3NpdG9yeVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3JlcG9zaXRvcmllcy9QZW9wbGUuanMiLCJpbXBvcnQgQ29ubmVjdGlvbk1hbmFnZXIgZnJvbSAnc3dhcGktZGF0YWJhc2UnXG5cbmNvbnN0IGVudiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCc7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuLi9kYXRhYmFzZS9jb25maWcuanMnKVtlbnZdO1xuXG5jb25zdCBjbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoY29uZmlnKVxuY29uc3QgZGIgPSBjbk1hbmFnZXIuZ2V0Q29ubmVjdGlvbigpXG5cbmV4cG9ydCBkZWZhdWx0IGRiXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGVyc2lzdGVuY2UvREJDb250ZXh0LmpzIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgU2VxdWVsaXplID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5jb25zdCBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWUoX19maWxlbmFtZSk7XG5jb25zdCB7IEZSQU1FV09SSyB9ID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJylcblxudmFyIF9pbnN0YW5jZSA9IG51bGxcbmNvbnN0IG1vZGVsc1BhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9tb2RlbHMnKVxuXG5jbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5mcmFtZXdvcmsgPSBjb25maWcuZnJhbWV3b3JrIHx8IEZSQU1FV09SSy5TRVFVRUxJWkVcbiAgICB0aGlzLmRhdGFiYXNlID0gY29uZmlnLmRhdGFiYXNlXG4gICAgdGhpcy51c2VybmFtZSA9IGNvbmZpZy51c2VybmFtZVxuICAgIHRoaXMucGFzc3dvcmQgPSBjb25maWcucGFzc3dvcmRcbiAgICB0aGlzLmhvc3QgPSBjb25maWcuaG9zdFxuICAgIHRoaXMucG9ydCA9IGNvbmZpZy5wb3J0XG4gICAgdGhpcy5kaWFsZWN0ID0gY29uZmlnLmRpYWxlY3RcbiAgICB0aGlzLnNlcXVlbGl6ZSA9IHt9XG4gICAgdGhpcy5kaXJlY3RvcnkgPSBjb25maWcuZGlyZWN0b3J5IHx8IG1vZGVsc1BhdGhcbiAgICB0aGlzLnVzZV9lbnZfdmFyaWFibGUgPSBjb25maWcudXNlX2Vudl92YXJpYWJsZVxuXG4gICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbFxuXG4gICAgaWYgKCFfaW5zdGFuY2UpIHtcbiAgICAgIF9pbnN0YW5jZSA9IHRoaXNcbiAgICB9XG4gICAgcmV0dXJuIF9pbnN0YW5jZVxuICB9XG5cbiAgZ2V0Q29ubmVjdGlvbigpIHtcbiAgICBzd2l0Y2ggKHRoaXMuZnJhbWV3b3JrKSB7XG4gICAgICBjYXNlIEZSQU1FV09SSy5TRVFVRUxJWkU6XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbiB8fCB0aGlzLmdldFNlcXVlbGl6ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb24gfHwgdGhpcy5nZXRTZXF1ZWxpemUoKVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25cbiAgfVxuXG4gIGdldFNlcXVlbGl6ZSgpIHtcbiAgICBjb25zdCBkYiA9IHt9O1xuXG4gICAgY29uc3QgeyBkYXRhYmFzZSwgdXNlcm5hbWUsIHBhc3N3b3JkLCBkaXJlY3RvcnksIGhvc3QsIHBvcnQsIGRpYWxlY3QsIHVzZV9lbnZfdmFyaWFibGUgfSA9IHRoaXNcbiAgICBjb25zdCBjb25maWcgPSB7IGRhdGFiYXNlLCB1c2VybmFtZSwgcGFzc3dvcmQsIGhvc3QsIHBvcnQsIGRpYWxlY3QgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh1c2VfZW52X3ZhcmlhYmxlKSB7XG4gICAgICAgIHRoaXMuc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShwcm9jZXNzLmVudlt1c2VfZW52X3ZhcmlhYmxlXSwgY29uZmlnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShkYXRhYmFzZSwgdXNlcm5hbWUsIHBhc3N3b3JkLCBjb25maWcpO1xuICAgICAgfVxuXG4gICAgICBmc1xuICAgICAgICAucmVhZGRpclN5bmMoZGlyZWN0b3J5KVxuICAgICAgICAuZmlsdGVyKGZpbGUgPT4ge1xuICAgICAgICAgIHJldHVybiAoZmlsZS5pbmRleE9mKCcuJykgIT09IDApICYmIChmaWxlICE9PSBiYXNlbmFtZSkgJiYgKGZpbGUuc2xpY2UoLTMpID09PSAnLmpzJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5zZXF1ZWxpemVbJ2ltcG9ydCddKHBhdGguam9pbihkaXJlY3RvcnksIGZpbGUpKTtcbiAgICAgICAgICBkYlttb2RlbC5uYW1lXSA9IG1vZGVsO1xuICAgICAgICB9KTtcblxuICAgICAgT2JqZWN0LmtleXMoZGIpLmZvckVhY2gobW9kZWxOYW1lID0+IHtcbiAgICAgICAgaWYgKGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKSB7XG4gICAgICAgICAgZGJbbW9kZWxOYW1lXS5hc3NvY2lhdGUoZGIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZGIuc2VxdWVsaXplID0gdGhpcy5zZXF1ZWxpemU7XG4gICAgICBkYi5TZXF1ZWxpemUgPSBTZXF1ZWxpemU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkYi5zdGFja3RyYWNlID0gZXJyXG4gICAgICBkYi5tZXNzYWdlID0gJ0Nvbm5lY3Rpb25NYW5hZ2VyRXJyb3IgaW4gZ2V0U2VxdWVsaXplQ29ubmVjdGlvbidcblxuICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRiXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb25uZWN0aW9uTWFuYWdlclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZGF0YWJhc2UvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImZzXCJcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwic2VxdWVsaXplXCJcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY29uc3QgRlJBTUVXT1JLID0ge1xuICBTRVFVRUxJWkU6ICdzZXF1ZWxpemUnXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBGUkFNRVdPUktcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb25zdGFudHMvaW5kZXguanMiLCJjb25zdCB5ZW52ID0gcmVxdWlyZSgneWVudicpXG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXG5jb25zdCBzdGFnZSA9IHllbnYoJy5lbnYueW1sJywgeyBlbnYgfSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRldmVsb3BtZW50OiB7XG4gICAgdXNlcm5hbWU6IHN0YWdlLkRCX1VTRVJOQU1FLFxuICAgIHBhc3N3b3JkOiBzdGFnZS5EQl9QQVNTV09SRCxcbiAgICBkYXRhYmFzZTogc3RhZ2UuREJfREFUQUJBU0UsXG4gICAgaG9zdDogc3RhZ2UuREJfSE9TVCxcbiAgICBkaWFsZWN0OiBzdGFnZS5EQl9ESUFMRUNUXG4gIH0sXG4gIHRlc3Q6IHtcbiAgICB1c2VybmFtZTogc3RhZ2UuREJfVVNFUk5BTUUsXG4gICAgcGFzc3dvcmQ6IHN0YWdlLkRCX1BBU1NXT1JELFxuICAgIGRhdGFiYXNlOiBzdGFnZS5EQl9EQVRBQkFTRSxcbiAgICBob3N0OiBzdGFnZS5EQl9IT1NULFxuICAgIGRpYWxlY3Q6IHN0YWdlLkRCX0RJQUxFQ1RcbiAgfSxcbiAgcHJvZHVjdGlvbjoge1xuICAgIHVzZXJuYW1lOiBzdGFnZS5EQl9VU0VSTkFNRSxcbiAgICBwYXNzd29yZDogc3RhZ2UuREJfUEFTU1dPUkQsXG4gICAgZGF0YWJhc2U6IHN0YWdlLkRCX0RBVEFCQVNFLFxuICAgIGhvc3Q6IHN0YWdlLkRCX0hPU1QsXG4gICAgZGlhbGVjdDogc3RhZ2UuREJfRElBTEVDVFxuICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZGF0YWJhc2UvY29uZmlnLmpzIiwiaW1wb3J0IHsgUGVvcGxlQ29udHJvbGxlciB9IGZyb20gJ3N3YXBpLWNvbnRyb2xsZXJzJ1xuaW1wb3J0IHsgdW5pdE9mV29yayB9IGZyb20gJy4uL3BlcnNpc3RlbmNlJ1xuXG5jb25zdCBwZW9wbGVDb250cm9sbGVyID0gbmV3IFBlb3BsZUNvbnRyb2xsZXIodW5pdE9mV29yaylcblxubW9kdWxlLmV4cG9ydHMuaGFuZGxlciA9IHBlb3BsZUNvbnRyb2xsZXIuaW5pdC5iaW5kKHBlb3BsZUNvbnRyb2xsZXIpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9mdW5jdGlvbnMvcGVvcGxlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==