(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 34);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/extends");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = require("babel-runtime/helpers/objectWithoutProperties");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _Controller=__webpack_require__(13);Object.defineProperty(exports,'BaseController',{enumerable:true,get:function(){return _interopRequireDefault(_Controller).default;}});var _Exceptions=__webpack_require__(4);Object.defineProperty(exports,'Exceptions',{enumerable:true,get:function(){return _interopRequireDefault(_Exceptions).default;}});var _Middleware=__webpack_require__(14);Object.defineProperty(exports,'Middleware',{enumerable:true,get:function(){return _interopRequireDefault(_Middleware).default;}});var _Request=__webpack_require__(6);Object.defineProperty(exports,'Request',{enumerable:true,get:function(){return _interopRequireDefault(_Request).default;}});var _Response=__webpack_require__(5);Object.defineProperty(exports,'Response',{enumerable:true,get:function(){return _interopRequireDefault(_Response).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});function _extendableBuiltin3(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}function _extendableBuiltin2(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}function _extendableBuiltin(cls){function ExtendableBuiltin(){cls.apply(this,arguments);}ExtendableBuiltin.prototype=Object.create(cls.prototype,{constructor:{value:cls,enumerable:false,writable:true,configurable:true}});if(Object.setPrototypeOf){Object.setPrototypeOf(ExtendableBuiltin,cls);}else{ExtendableBuiltin.__proto__=cls;}return ExtendableBuiltin;}class BaseException extends _extendableBuiltin(Error){constructor(message,code){super(message);this.code=typeof code!=='undefined'?code:0;}}class BadRequestException extends BaseException{constructor(message,code){super(message,code);this.statusCode=400;this.name='Bad Request';}}exports.BadRequestException=BadRequestException;class UnAuthorizedException extends BaseException{constructor(message,code){super(message,code);this.statusCode=401;this.name='Unauthorized';}}exports.UnAuthorizedException=UnAuthorizedException;class NotFoundException extends _extendableBuiltin2(Error){constructor(message,code){super(message,code);this.statusCode=404;this.name='Not Found';}}exports.NotFoundException=NotFoundException;class DataValidationFailedException extends _extendableBuiltin3(Error){constructor(message,body,code){super(message,code);this.statusCode=422;this.name='Data Validation failed';this.body=body;}}exports.DataValidationFailedException=DataValidationFailedException;exports.default={BadRequestException,UnAuthorizedException,NotFoundException,DataValidationFailedException};

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _objectWithoutProperties2=__webpack_require__(1);var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
 * Class to handle responses back to Lambda
 *
 * @type {Response}
 */class Response{/**
   * Pass the Lambda function that comes in the handler
   *
   * @param lambdaCallback
   * @public
   */constructor(lambdaCallback){this.callback=lambdaCallback;this._statusCode=200;this._headers={};this._options={};}/**
   * Change the status code
   *
   * @param statusCode
   * @returns {Response}
   */statusCode(statusCode){if(statusCode===undefined)return this._statusCode;this._statusCode=parseInt(statusCode);if(isNaN(this._statusCode))this._statusCode=500;if(this._statusCode<200||this._statusCode>599)this._statusCode=500;return this;}/**
   * Get all headers, retrieve a header or add one/many headers
   *
   * @param key
   * @param value
   * @returns {*}
   */headers(key,value){// If called empty it returns all the headers
if(key===undefined&&value===undefined){return this._headers;}// Set or return the key when it is a string
if(typeof key==='string'){if(value===undefined){return this._headers[key.toLowerCase()]||null;}else{this._headers[key.toLowerCase()]=value;return this;}}// Add multiple headers
let headerNames=Object.keys(key);for(let i=0;i<headerNames.length;i++){let headerName=headerNames[i].toLowerCase();this._headers[headerName]=key[headerNames[i]];}return this;}options(key,value){// If called empty it returns all the options
if(key===undefined&&value===undefined){return this._options;}// Set or return the key when it is a string
if(typeof key==='string'){if(value===undefined){return this._options[key]||null;}else{this._options[key]=value;return this;}}// Add multiple options
let optionsNames=Object.keys(key);for(let i=0;i<optionsNames.length;i++){let optionName=optionsNames[i];this._options[optionName]=key[optionsNames[i]];}return this;}/**
   * Send the body as a response
   *
   * @param body
   * @public
   */send(body){const _options=this._options,{raw}=_options,rest=(0,_objectWithoutProperties3.default)(_options,['raw']);if(body===undefined)body={};if(!raw){if(typeof body!=='object')body={message:body};body=JSON.stringify(body||{});}this.callback(null,(0,_extends3.default)({statusCode:this._statusCode,body,headers:this._headers},rest));}/**
   * Fail with a 4XX statusCode
   *
   * @param body
   * @param statusCode
   * @public
   */fail(body,statusCode){if(body===undefined)body={};if(typeof body!=='object')body={message:body};this.statusCode(Math.abs(parseInt(statusCode||400))%100+400).send(Object.assign({message:'Something went wrong'},body||{}));}/**
   * Fail with a 5XX statusCode
   *
   * @param err
   * @param statusCode
   * @public
   */fail500(err,statusCode){if(err===undefined)err=new Error("Called 'fail500' without error");if(!err)err={message:'Internal server error'// Log the error to identify later
};if(err.stack){console.error(err.stack);}else{console.error(err);}// Send a response in a proper format to the customer
this.statusCode(Math.abs(parseInt(statusCode||500))%100+500).send({message:'Internal server error'});}}exports.default=Response;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});/**
 * A Request type to easily send requests to services
 *
 * @type {Request}
 */class Request{/**
   * Create the request by passing the event and context received
   * in the lambda handler. This class has methods to retrieve info
   * from those parameters
   *
   * @param event
   * @param context
   * @public
   */constructor(event,context){this.event=event;this.context=context;}/**
   * Extract a value from an object using dot notation. It can
   * get nested objects
   *
   * @param obj
   * @param key
   * @param defaultValue
   * @returns {*}
   * @public
   */__get(obj,key,defaultValue){if(!obj)return defaultValue===undefined?null:defaultValue;const path=key.split('.');for(let i=0;i<path.length;i++){if(typeof obj==='object'){if(obj[path[i]]){obj=obj[path[i]];}else{obj=defaultValue===undefined?null:defaultValue;break;}}else{return defaultValue===undefined?null:defaultValue;}}return obj;}/**
   * Get a value from a path variable
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */path(key,defVal){if(key===undefined)return this.event.pathParameters||{};return this.__get(this.event.pathParameters,key,defVal);}/**
   * Get a value from the body of the request
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */post(key,defVal){// Make sure that body is not a JSON string but an object
// because AWS sends it as a JSON string
if(this.event.body&&typeof this.event.body==='string'){try{this.event.body=JSON.parse(this.event.body);}catch(ex){this.event.body={};}}if(key===undefined)return this.event.body||{};return this.__get(this.event.body,key,defVal);}/**
   * Get a value from the query parameters
   *
   * @param key
   * @param defVal
   * @returns {*}
   * @public
   */query(key,defVal){if(key===undefined)return this.event.queryStringParameters||{};return this.__get(this.event.queryStringParameters,key,defVal);}/**
     * Get a value from the method
     *
     * @returns {*}
     * @public
     */method(){return this.event.httpMethod||'';}/**
   * Get a value from the headers
   *
   * @param key
   * @param defVal
   * @returns {*}
   */headers(key,defVal){if(key===undefined)return this.event.headers||{};return this.__get(this.event.headers,key,defVal);}/**
   * Return the IP Address of the request from the AWS event
   *
   * @returns {*}
   */ip(){let ipVal=this.__get(this.event,'requestContext.identity.sourceIp',null);if(ipVal==='::'){ipVal='127.0.0.1';}return ipVal;}}exports.default=Request;

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.Swapi=undefined;var _swapi=__webpack_require__(16);var _swapi2=_interopRequireDefault(_swapi);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.Swapi=_swapi2.default;

/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = require("yenv");

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});class IRepository{constructor(){if(this.create===undefined)throw new Error('Must override .create() method.');if(this.update===undefined)throw new Error('Must override .update() method');if(this.get===undefined)throw new Error('Must override .get() metod');if(this.getById===undefined)throw new Error('Must override .getById() method');if(this.remove===undefined)throw new Error('Must override .remove() method');}}exports.default=IRepository;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.PeopleController=exports.FilmController=undefined;var _Film=__webpack_require__(12);var _Film2=_interopRequireDefault(_Film);var _People=__webpack_require__(22);var _People2=_interopRequireDefault(_People);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmController=_Film2.default;exports.PeopleController=_People2.default;

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _objectWithoutProperties2=__webpack_require__(1);var _objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2);var _lodash=__webpack_require__(2);var _swapiHelpers=__webpack_require__(3);var _swapiUtils=__webpack_require__(8);var _dtos=__webpack_require__(18);var _mappers=__webpack_require__(20);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{CorsMiddleware}=_swapiHelpers.Middleware;const getFilms=()=>{return new Promise((resolve,reject)=>{_swapiUtils.Swapi.getFilms(data=>resolve(data));});};class FilmRepositoryController extends _swapiHelpers.BaseController{constructor(unitOfWork){super();this.unitOfWork=unitOfWork;return this;}init(event,context,callback){this.middleware(CorsMiddleware);return super.init(event,context,callback);}async handle(event,context,callback){const method=this.request.method();var operation=null;switch(method){case'GET':operation=await this.get();break;case'POST':operation=await this.create();break;case'PATCH':operation=await this.update();break;case'DELETE':operation=await this.remove();break;default:res.status(500).send({error:'Method not supported!'});break;}return operation;}async get(){const{FilmRepository}=this.unitOfWork;const _request$query=this.request.query(),{lang}=_request$query,filters=(0,_objectWithoutProperties3.default)(_request$query,['lang']);const films=(await FilmRepository.get(filters))||[];const filmsApi=await getFilms();var results=(0,_lodash.concat)((0,_lodash.get)(filmsApi,'results',[]),films);if(lang){results=(0,_lodash.map)(results,e=>{const filmDTO=new _dtos.FilmDTO(e);const filmMapping=new _mappers.FilmMapping(filmDTO);if(lang==='es'||lang==='ES')return filmMapping.toSpanish();else return filmDTO;});}return(0,_extends3.default)({},filmsApi,{results,count:filmsApi.count+results.length});}async getById(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=await FilmRepository.getById(id);return film;}async create(){const{FilmRepository}=this.unitOfWork;const film=this.request.post();const created=Date(Date.now()).toString();const filmSaved=await FilmRepository.create((0,_extends3.default)({},film,{created}));const childs=['people','planet','specie','starship','vehicle'];const checkAndCreateChilds=(entity=null)=>{if(film[entity]){if(Array.isArray(film[entity])){return film[entity].map(e=>filmSaved.createFilmRelation({relation_id:e,relation:entity,created}));}else{return filmSaved.createFilmRelation({relation_id:film[entity],relation:entity,created});}}};await Promise.all(childs.map(e=>checkAndCreateChilds(e)));return filmSaved;}async update(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=this.request.post();const rowUpdate=await FilmRepository.update(id,film);if(rowUpdate){const filmUpdated=await FilmRepository.getById(id);return filmUpdated;}return{};}async remove(){const{FilmRepository}=this.unitOfWork;const{id}=this.request.path();const film=await FilmRepository.remove(id);return film;}}exports.default=FilmRepositoryController;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _Exceptions=__webpack_require__(4);var _Exceptions2=_interopRequireDefault(_Exceptions);var _Response=__webpack_require__(5);var _Response2=_interopRequireDefault(_Response);var _Request=__webpack_require__(6);var _Request2=_interopRequireDefault(_Request);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{BadRequestException,DataValidationFailedException,UnAuthorizedException,NotFoundException}=_Exceptions2.default;class BaseController{constructor(){this.middlewares=[];}init(event,context,callback){this.request=new _Request2.default(event,context);this.response=new _Response2.default(callback);context.callbackWaitsForEmptyEventLoop=false;try{const middlewarePromise=this.processRequest();const handle=this.handle.bind(this);return middlewarePromise.then(handle).then(response=>this.response.send(response)).catch(e=>{this.handleException(e);});}catch(e){this.handleException(e);}}/**
   * You MUST implement this method.
   * It is supposed to be used to handle the logic in
   * your controller. Should returns a promise or raise
   * an Exception from core/Exceptions
   */handle(){throw new Error('You must implement the method handle');}middleware(middlewareClass){this.middlewares.push(middlewareClass);}processRequest(){const promises=[];for(let i=0;i<this.middlewares.length;i++){let Middleware=this.middlewares[i];let middlewareObj=new Middleware(this.request,this.response);let method=middlewareObj.processRequest.bind(middlewareObj);promises.push(method());}return Promise.resolve(Promise.all(promises));}handleException(e){const isSimilarError=function(e){const similarErrors=[BadRequestException,UnAuthorizedException,NotFoundException];for(let i=0;i<similarErrors.length;i++){if(e instanceof similarErrors[i]){return true;}}return false;};if(isSimilarError(e)){this.response.fail({status:e.statusCode,name:e.name,message:e.message,code:e.code},e.statusCode);}else if(e instanceof DataValidationFailedException){this.response.statusCode(e.statusCode).send(e.body);}else{this.response.fail500(e);}}}exports.default=BaseController;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _path=__webpack_require__(7);var _path2=_interopRequireDefault(_path);var _i18n=__webpack_require__(15);var _i18n2=_interopRequireDefault(_i18n);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_i18n2.default.configure({directory:_path2.default.join(__dirname,'./resources/lang'),register:global,updateFiles:false,defaultLocale:'en'});/**
 * Every middleware can define processRequest.
 * That method must return a Promise
 */class BaseMiddleware{constructor(request,response){this.request=request;this.response=response;}}class LanguageMiddleware extends BaseMiddleware{processRequest(){let headers=this.request.headers();this.request.language='en';if(headers['Accept-Language']){this.request.language=headers['Accept-Language'].substring(0,2);_i18n2.default.setLocale(this.request.language);}return Promise.resolve();}}class CorsMiddleware extends BaseMiddleware{processRequest(){this.response.headers({'Access-Control-Allow-Origin':'*','Access-Control-Allow-Credentials':true});return Promise.resolve();}}exports.default={LanguageMiddleware,CorsMiddleware};

/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = require("i18n");

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});const fetch=__webpack_require__(17);const yenv=__webpack_require__(9);const env=process.env.NODE_ENV||'development';const stage=yenv('.env.yml',{env});const swapiModule=function(){var rootURL=stage.SWAPI_URL;function request(url,cb){return fetch(url).then(function(res){return res.json();}).then(function(data){if(typeof cb==="function"){cb(data);}return data;}).catch(function(err){console.log(err);});}function getResources(cb){return request(rootURL,cb);}function singularRequestGenerator(path){return function(id,cb){return request(rootURL+path+"/"+id+"/",cb);};}function pluralRequestGenerator(path){return function(){let queryObject=undefined;let cb=undefined;if(arguments.length>1){queryObject=arguments[0];cb=arguments[1];}else if(arguments[0]){// If given exactly one argument
if(typeof arguments[0]==="function"){cb=arguments[0];queryObject=null;}else{cb=null;queryObject=arguments[0];}}if(queryObject){let searchParams=new URLSearchParams();for(let key of Object.keys(queryObject)){let value=queryObject[key];searchParams.append(key,value);}return request(rootURL+path+"/?"+searchParams.toString(),cb);}return request(rootURL+path+"/",cb);};}return{getResources:getResources,getPerson:singularRequestGenerator("people"),getPeople:pluralRequestGenerator("people"),getFilm:singularRequestGenerator("films"),getFilms:pluralRequestGenerator("films"),getPlanet:singularRequestGenerator("planets"),getPlanets:pluralRequestGenerator("planets"),getSpecies:singularRequestGenerator("species"),getAllSpecies:pluralRequestGenerator("species"),getStarship:singularRequestGenerator("starships"),getStarships:pluralRequestGenerator("starships"),getVehicle:singularRequestGenerator("vehicles"),getVehicles:pluralRequestGenerator("vehicles")};}();exports.default=swapiModule;

/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = require("node-fetch");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.FilmDTO=undefined;var _Film=__webpack_require__(19);var _Film2=_interopRequireDefault(_Film);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmDTO=_Film2.default;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});class FilmDto{constructor(entity){this.id=entity.id;this.created=entity.created;this.director=entity.director;this.edited=entity.edited;this.episode_id=entity.episode_id;this.opening_crawl=entity.opening_crawl;this.producer=entity.producer;this.release_date=entity.release_date;this.title=entity.title;this.url=entity.url;this.characters=entity.characters;this.planets=entity.planets;this.starships=entity.starships;this.vehicles=entity.vehicles;this.species=entity.species;}}exports.default=FilmDto;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.FilmMapping=undefined;var _Film=__webpack_require__(21);var _Film2=_interopRequireDefault(_Film);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmMapping=_Film2.default;

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});class FilmMapping{constructor(filmDTO){this.filmDTO=filmDTO;}toSpanish(){const{filmDTO}=this;return{id:filmDTO.id,creado:filmDTO.created,director:filmDTO.director,editado:filmDTO.edited,episodio_id:filmDTO.episode_id,rastreo_apertura:filmDTO.opening_crawl,productor:filmDTO.producer,fecha_lanzamiento:filmDTO.release_date,titulo:filmDTO.title,url:filmDTO.url,actores:filmDTO.characters,planetas:filmDTO.planets,naves_espaciales:filmDTO.starships,vehiculos:filmDTO.vehicles,especies:filmDTO.species};}}exports.default=FilmMapping;

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _swapiHelpers=__webpack_require__(3);var _swapiUtils=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const{CorsMiddleware}=_swapiHelpers.Middleware;const getPeopleRepositorys=()=>{return new Promise((resolve,reject)=>{_swapiUtils.Swapi.getPeopleRepositorys(data=>resolve(data));});};class PeopleRepositoryController extends _swapiHelpers.BaseController{constructor(unitOfWork){super();this.unitOfWork=unitOfWork;return this;}init(event,context,callback){this.middleware(CorsMiddleware);return super.init(event,context,callback);}async handle(event,context,callback){const method=this.request.method();var operation=null;switch(method){case'GET':operation=await this.get();break;case'POST':operation=await this.create();break;case'PATCH':operation=await this.update();break;case'DELETE':operation=await this.remove();break;default:res.status(500).send({error:'Method not supported!'});break;}return operation;}async get(){const{PeopleRepository}=this.unitOfWork;const filters=this.request.query();const peoples=await PeopleRepository.get(filters);const peoplesApi=await getPeopleRepositorys();return(0,_extends3.default)({},peoplesApi,{results:peoplesApi.results.concat(peoples)});}async getById(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=await PeopleRepository.getById(id);return people;}async create(){const{PeopleRepository}=this.unitOfWork;const people=this.request.post();const created=Date(Date.now()).toString();const peopleSaved=await PeopleRepository.create((0,_extends3.default)({},people,{created}));return peopleSaved;}async update(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=this.request.post();const rowUpdate=await PeopleRepository.update(id,people);if(rowUpdate){const peopleUpdated=await PeopleRepository.getById(id);return peopleUpdated;}return{};}async remove(){const{PeopleRepository}=this.unitOfWork;const{id}=this.request.path();const people=await PeopleRepository.remove(id);return people;}}exports.default=PeopleRepositoryController;

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.unitOfWork=undefined;var _UnitOfWork=__webpack_require__(24);var _UnitOfWork2=_interopRequireDefault(_UnitOfWork);var _DBContext=__webpack_require__(28);var _DBContext2=_interopRequireDefault(_DBContext);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const unitOfWork=new _UnitOfWork2.default(_DBContext2.default);exports.unitOfWork=unitOfWork;

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _swapiRepositories=__webpack_require__(25);class UnitOfWork{constructor(dbContext){this.dbContext=dbContext;this.FilmRepository=new _swapiRepositories.FilmRepository(dbContext);this.PeopleRepository=new _swapiRepositories.PeopleRepository(dbContext);}}exports.default=UnitOfWork;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.PeopleRepository=exports.FilmRepository=undefined;var _Film=__webpack_require__(26);var _Film2=_interopRequireDefault(_Film);var _People=__webpack_require__(27);var _People2=_interopRequireDefault(_People);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.FilmRepository=_Film2.default;exports.PeopleRepository=_People2.default;

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _extends2=__webpack_require__(0);var _extends3=_interopRequireDefault(_extends2);var _IRepository=__webpack_require__(10);var _IRepository2=_interopRequireDefault(_IRepository);var _lodash=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}class FilmRepository extends _IRepository2.default{constructor(dbContext){super();this.dbContext=dbContext;return this;}async create(film){try{const{Film}=this.dbContext;const filmSaved=await Film.create(film);return filmSaved;}catch(e){console.log(e);}}async update(id,film){try{const{Film}=this.dbContext;const filmSaved=await Film.update(film,{where:{id}});return filmSaved;}catch(e){console.log(e);}}async get(filters){try{const{Film}=this.dbContext;const films=await Film.findAll({where:filters});const peoples=await Promise.all(films.map(e=>e.getPeople()));const planets=await Promise.all(films.map(e=>e.getPlanets()));const species=await Promise.all(films.map(e=>e.getSpecies()));const starships=await Promise.all(films.map(e=>e.getStarships()));const vehicles=await Promise.all(films.map(e=>e.getVehicles()));const getUrl=arr=>(0,_lodash.map)(arr,e=>e.url);const filmsWithPeople=(0,_lodash.map)(films,(a,index)=>{const[peoplesUrl,planetsUrl,speciesUrl,starshipsUrl,vehiclesUrl]=[getUrl(peoples[index]),getUrl(planets[index]),getUrl(species[index]),getUrl(starships[index]),getUrl(vehicles[index])];return(0,_extends3.default)({},a.dataValues,{characters:peoplesUrl,species:speciesUrl,planets:planetsUrl,startship:starshipsUrl,vehicles:vehiclesUrl});});return filmsWithPeople;}catch(e){console.log(e);}}async getById(id){try{const{Film}=this.dbContext;const film=await Film.findOne({where:{id}});return film;}catch(e){console.log(e);}}async remove(id){const{Film}=this.dbContext;const film=await Film.findOne({where:{id}});await Film.destroy({where:{id}});return film;}}exports.default=FilmRepository;

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _IRepository=__webpack_require__(10);var _IRepository2=_interopRequireDefault(_IRepository);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}class PeopleRepository extends _IRepository2.default{constructor(dbContext){super();this.dbContext=dbContext;return this;}async create(people){try{const{People}=this.dbContext;const peopleSaved=await People.create(people);return peopleSaved;}catch(e){console.log(e);}}async update(id,people){try{const{People}=this.dbContext;const peopleSaved=await People.update(people,{where:{id}});return peopleSaved;}catch(e){console.log(e);}}async get(filters){try{const{People}=this.dbContext;const people=await People.findAll(filters);return people;}catch(e){console.log(e);}}async getById(id){try{const{People}=this.dbContext;const people=await People.findOne({where:{id}});return people;}catch(e){console.log(e);}}async remove(id){const{People}=this.dbContext;const people=await People.findOne({where:{id}});await People.destroy({where:{id}});return people;}}exports.default=PeopleRepository;

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});var _swapiDatabase=__webpack_require__(29);var _swapiDatabase2=_interopRequireDefault(_swapiDatabase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const env=process.env.NODE_ENV||'development';const config=__webpack_require__(33)[env];const cnManager=new _swapiDatabase2.default(config);const db=cnManager.getConnection();exports.default=db;

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const fs=__webpack_require__(30);const path=__webpack_require__(7);const Sequelize=__webpack_require__(31);const basename=path.basename(__filename);const{FRAMEWORK}=__webpack_require__(32);var _instance=null;const modelsPath=path.resolve(__dirname,'./models');class ConnectionManager{constructor(config={}){this.framework=config.framework||FRAMEWORK.SEQUELIZE;this.database=config.database;this.username=config.username;this.password=config.password;this.host=config.host;this.port=config.port;this.dialect=config.dialect;this.sequelize={};this.directory=config.directory||modelsPath;this.use_env_variable=config.use_env_variable;this.connection=null;if(!_instance){_instance=this;}return _instance;}getConnection(){switch(this.framework){case FRAMEWORK.SEQUELIZE:this.connection=this.connection||this.getSequelize();break;default:this.connection=this.connection||this.getSequelize();break;}return this.connection;}getSequelize(){const db={};const{database,username,password,directory,host,port,dialect,use_env_variable}=this;const config={database,username,password,host,port,dialect};try{if(use_env_variable){this.sequelize=new Sequelize(process.env[use_env_variable],config);}else{this.sequelize=new Sequelize(database,username,password,config);}fs.readdirSync(directory).filter(file=>{return file.indexOf('.')!==0&&file!==basename&&file.slice(-3)==='.js';}).forEach(file=>{const model=this.sequelize['import'](path.join(directory,file));db[model.name]=model;});Object.keys(db).forEach(modelName=>{if(db[modelName].associate){db[modelName].associate(db);}});db.sequelize=this.sequelize;db.Sequelize=Sequelize;}catch(err){db.stacktrace=err;db.message='ConnectionManagerError in getSequelizeConnection';console.error(err);}return db;}}module.exports=ConnectionManager;

/***/ }),
/* 30 */
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ }),
/* 31 */
/***/ (function(module, exports) {

module.exports = require("sequelize");

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const FRAMEWORK={SEQUELIZE:'sequelize'};module.exports={FRAMEWORK};

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
const yenv=__webpack_require__(9);const env=process.env.NODE_ENV||'development';const stage=yenv('.env.yml',{env});module.exports={development:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT},test:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT},production:{username:stage.DB_USERNAME,password:stage.DB_PASSWORD,database:stage.DB_DATABASE,host:stage.DB_HOST,dialect:stage.DB_DIALECT}};

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _swapiControllers=__webpack_require__(11);var _persistence=__webpack_require__(23);const filmController=new _swapiControllers.FilmController(_persistence.unitOfWork);module.exports.handler=filmController.init.bind(filmController);

/***/ })
/******/ ])));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgM2VlNmFkNjUyYWJmMTZjMmU2ZWEiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsb2Rhc2hcIiIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL2hlbHBlcnMvRXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL1Jlc3BvbnNlLmpzIiwid2VicGFjazovLy8uL2hlbHBlcnMvUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vLy4vdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwieWVudlwiIiwid2VicGFjazovLy8uL3JlcG9zaXRvcmllcy9JUmVwb3NpdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9GaWxtLmpzIiwid2VicGFjazovLy8uL2hlbHBlcnMvQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9oZWxwZXJzL01pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaTE4blwiIiwid2VicGFjazovLy8uL3V0aWxzL3N3YXBpLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm5vZGUtZmV0Y2hcIiIsIndlYnBhY2s6Ly8vLi9kdG9zL2luZGV4LmpzIiwid2VicGFjazovLy8uL2R0b3MvRmlsbS5qcyIsIndlYnBhY2s6Ly8vLi9tYXBwZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL21hcHBlcnMvRmlsbS5qcyIsIndlYnBhY2s6Ly8vLi9jb250cm9sbGVycy9QZW9wbGUuanMiLCJ3ZWJwYWNrOi8vLy4vcGVyc2lzdGVuY2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcGVyc2lzdGVuY2UvVW5pdE9mV29yay5qcyIsIndlYnBhY2s6Ly8vLi9yZXBvc2l0b3JpZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcmVwb3NpdG9yaWVzL0ZpbG0uanMiLCJ3ZWJwYWNrOi8vLy4vcmVwb3NpdG9yaWVzL1Blb3BsZS5qcyIsIndlYnBhY2s6Ly8vLi9wZXJzaXN0ZW5jZS9EQkNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vZGF0YWJhc2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzZXF1ZWxpemVcIiIsIndlYnBhY2s6Ly8vLi9jb25zdGFudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vZGF0YWJhc2UvY29uZmlnLmpzIiwid2VicGFjazovLy8uL2Z1bmN0aW9ucy9maWxtLmpzIl0sIm5hbWVzIjpbImRlZmF1bHQiLCJCYXNlRXhjZXB0aW9uIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwiQmFkUmVxdWVzdEV4Y2VwdGlvbiIsInN0YXR1c0NvZGUiLCJuYW1lIiwiVW5BdXRob3JpemVkRXhjZXB0aW9uIiwiTm90Rm91bmRFeGNlcHRpb24iLCJEYXRhVmFsaWRhdGlvbkZhaWxlZEV4Y2VwdGlvbiIsImJvZHkiLCJSZXNwb25zZSIsImxhbWJkYUNhbGxiYWNrIiwiY2FsbGJhY2siLCJfc3RhdHVzQ29kZSIsIl9oZWFkZXJzIiwiX29wdGlvbnMiLCJ1bmRlZmluZWQiLCJwYXJzZUludCIsImlzTmFOIiwiaGVhZGVycyIsImtleSIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJoZWFkZXJOYW1lcyIsIk9iamVjdCIsImtleXMiLCJpIiwibGVuZ3RoIiwiaGVhZGVyTmFtZSIsIm9wdGlvbnMiLCJvcHRpb25zTmFtZXMiLCJvcHRpb25OYW1lIiwic2VuZCIsInJhdyIsInJlc3QiLCJKU09OIiwic3RyaW5naWZ5IiwiZmFpbCIsIk1hdGgiLCJhYnMiLCJhc3NpZ24iLCJmYWlsNTAwIiwiZXJyIiwic3RhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJSZXF1ZXN0IiwiZXZlbnQiLCJjb250ZXh0IiwiX19nZXQiLCJvYmoiLCJkZWZhdWx0VmFsdWUiLCJwYXRoIiwic3BsaXQiLCJkZWZWYWwiLCJwYXRoUGFyYW1ldGVycyIsInBvc3QiLCJwYXJzZSIsImV4IiwicXVlcnkiLCJxdWVyeVN0cmluZ1BhcmFtZXRlcnMiLCJtZXRob2QiLCJodHRwTWV0aG9kIiwiaXAiLCJpcFZhbCIsIlN3YXBpIiwiSVJlcG9zaXRvcnkiLCJjcmVhdGUiLCJ1cGRhdGUiLCJnZXQiLCJnZXRCeUlkIiwicmVtb3ZlIiwiRmlsbUNvbnRyb2xsZXIiLCJQZW9wbGVDb250cm9sbGVyIiwiQ29yc01pZGRsZXdhcmUiLCJNaWRkbGV3YXJlIiwiZ2V0RmlsbXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRhdGEiLCJGaWxtUmVwb3NpdG9yeUNvbnRyb2xsZXIiLCJCYXNlQ29udHJvbGxlciIsInVuaXRPZldvcmsiLCJpbml0IiwibWlkZGxld2FyZSIsImhhbmRsZSIsInJlcXVlc3QiLCJvcGVyYXRpb24iLCJyZXMiLCJzdGF0dXMiLCJGaWxtUmVwb3NpdG9yeSIsImxhbmciLCJmaWx0ZXJzIiwiZmlsbXMiLCJmaWxtc0FwaSIsInJlc3VsdHMiLCJlIiwiZmlsbURUTyIsIkZpbG1EVE8iLCJmaWxtTWFwcGluZyIsIkZpbG1NYXBwaW5nIiwidG9TcGFuaXNoIiwiY291bnQiLCJpZCIsImZpbG0iLCJjcmVhdGVkIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiZmlsbVNhdmVkIiwiY2hpbGRzIiwiY2hlY2tBbmRDcmVhdGVDaGlsZHMiLCJlbnRpdHkiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJjcmVhdGVGaWxtUmVsYXRpb24iLCJyZWxhdGlvbl9pZCIsInJlbGF0aW9uIiwiYWxsIiwicm93VXBkYXRlIiwiZmlsbVVwZGF0ZWQiLCJFeGNlcHRpb25zIiwibWlkZGxld2FyZXMiLCJyZXNwb25zZSIsImNhbGxiYWNrV2FpdHNGb3JFbXB0eUV2ZW50TG9vcCIsIm1pZGRsZXdhcmVQcm9taXNlIiwicHJvY2Vzc1JlcXVlc3QiLCJiaW5kIiwidGhlbiIsImNhdGNoIiwiaGFuZGxlRXhjZXB0aW9uIiwibWlkZGxld2FyZUNsYXNzIiwicHVzaCIsInByb21pc2VzIiwibWlkZGxld2FyZU9iaiIsImlzU2ltaWxhckVycm9yIiwic2ltaWxhckVycm9ycyIsImkxOG4iLCJjb25maWd1cmUiLCJkaXJlY3RvcnkiLCJqb2luIiwiX19kaXJuYW1lIiwicmVnaXN0ZXIiLCJnbG9iYWwiLCJ1cGRhdGVGaWxlcyIsImRlZmF1bHRMb2NhbGUiLCJCYXNlTWlkZGxld2FyZSIsIkxhbmd1YWdlTWlkZGxld2FyZSIsImxhbmd1YWdlIiwic3Vic3RyaW5nIiwic2V0TG9jYWxlIiwiZmV0Y2giLCJyZXF1aXJlIiwieWVudiIsImVudiIsInByb2Nlc3MiLCJOT0RFX0VOViIsInN0YWdlIiwic3dhcGlNb2R1bGUiLCJyb290VVJMIiwiU1dBUElfVVJMIiwidXJsIiwiY2IiLCJqc29uIiwibG9nIiwiZ2V0UmVzb3VyY2VzIiwic2luZ3VsYXJSZXF1ZXN0R2VuZXJhdG9yIiwicGx1cmFsUmVxdWVzdEdlbmVyYXRvciIsInF1ZXJ5T2JqZWN0IiwiYXJndW1lbnRzIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZ2V0UGVyc29uIiwiZ2V0UGVvcGxlIiwiZ2V0RmlsbSIsImdldFBsYW5ldCIsImdldFBsYW5ldHMiLCJnZXRTcGVjaWVzIiwiZ2V0QWxsU3BlY2llcyIsImdldFN0YXJzaGlwIiwiZ2V0U3RhcnNoaXBzIiwiZ2V0VmVoaWNsZSIsImdldFZlaGljbGVzIiwiRmlsbUR0byIsImRpcmVjdG9yIiwiZWRpdGVkIiwiZXBpc29kZV9pZCIsIm9wZW5pbmdfY3Jhd2wiLCJwcm9kdWNlciIsInJlbGVhc2VfZGF0ZSIsInRpdGxlIiwiY2hhcmFjdGVycyIsInBsYW5ldHMiLCJzdGFyc2hpcHMiLCJ2ZWhpY2xlcyIsInNwZWNpZXMiLCJjcmVhZG8iLCJlZGl0YWRvIiwiZXBpc29kaW9faWQiLCJyYXN0cmVvX2FwZXJ0dXJhIiwicHJvZHVjdG9yIiwiZmVjaGFfbGFuemFtaWVudG8iLCJ0aXR1bG8iLCJhY3RvcmVzIiwicGxhbmV0YXMiLCJuYXZlc19lc3BhY2lhbGVzIiwidmVoaWN1bG9zIiwiZXNwZWNpZXMiLCJnZXRQZW9wbGVSZXBvc2l0b3J5cyIsIlBlb3BsZVJlcG9zaXRvcnlDb250cm9sbGVyIiwiUGVvcGxlUmVwb3NpdG9yeSIsInBlb3BsZXMiLCJwZW9wbGVzQXBpIiwiY29uY2F0IiwicGVvcGxlIiwicGVvcGxlU2F2ZWQiLCJwZW9wbGVVcGRhdGVkIiwiVW5pdE9mV29yayIsIkRCQ29udGV4dCIsImRiQ29udGV4dCIsIkZpbG0iLCJ3aGVyZSIsImZpbmRBbGwiLCJnZXRVcmwiLCJhcnIiLCJmaWxtc1dpdGhQZW9wbGUiLCJhIiwiaW5kZXgiLCJwZW9wbGVzVXJsIiwicGxhbmV0c1VybCIsInNwZWNpZXNVcmwiLCJzdGFyc2hpcHNVcmwiLCJ2ZWhpY2xlc1VybCIsImRhdGFWYWx1ZXMiLCJzdGFydHNoaXAiLCJmaW5kT25lIiwiZGVzdHJveSIsIlBlb3BsZSIsImNvbmZpZyIsImNuTWFuYWdlciIsIkNvbm5lY3Rpb25NYW5hZ2VyIiwiZGIiLCJnZXRDb25uZWN0aW9uIiwiZnMiLCJTZXF1ZWxpemUiLCJiYXNlbmFtZSIsIl9fZmlsZW5hbWUiLCJGUkFNRVdPUksiLCJfaW5zdGFuY2UiLCJtb2RlbHNQYXRoIiwiZnJhbWV3b3JrIiwiU0VRVUVMSVpFIiwiZGF0YWJhc2UiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiaG9zdCIsInBvcnQiLCJkaWFsZWN0Iiwic2VxdWVsaXplIiwidXNlX2Vudl92YXJpYWJsZSIsImNvbm5lY3Rpb24iLCJnZXRTZXF1ZWxpemUiLCJyZWFkZGlyU3luYyIsImZpbHRlciIsImZpbGUiLCJpbmRleE9mIiwic2xpY2UiLCJmb3JFYWNoIiwibW9kZWwiLCJtb2RlbE5hbWUiLCJhc3NvY2lhdGUiLCJzdGFja3RyYWNlIiwibW9kdWxlIiwiZXhwb3J0cyIsImRldmVsb3BtZW50IiwiREJfVVNFUk5BTUUiLCJEQl9QQVNTV09SRCIsIkRCX0RBVEFCQVNFIiwiREJfSE9TVCIsIkRCX0RJQUxFQ1QiLCJ0ZXN0IiwicHJvZHVjdGlvbiIsImZpbG1Db250cm9sbGVyIiwiaGFuZGxlciJdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7UUFFQTtRQUNBOzs7Ozs7O0FDN0RBLDBEOzs7Ozs7QUNBQSwwRTs7Ozs7O0FDQUEsbUM7Ozs7Ozs7Mk5DQVNBLE8sa0tBQ0FBLE8sbUtBQ0FBLE8seUpBQ0FBLE8sNEpBQ0FBLE87Ozs7Ozs7MG1DQ0ZULEtBQU1DLGNBQU4sNEJBQTRCQyxLQUE1QixDQUFrQyxDQUNoQ0MsWUFBWUMsT0FBWixDQUFxQkMsSUFBckIsQ0FBMkIsQ0FDekIsTUFBTUQsT0FBTixFQUNBLEtBQUtDLElBQUwsQ0FBWSxNQUFPQSxLQUFQLEdBQWdCLFdBQWhCLENBQThCQSxJQUE5QixDQUFxQyxDQUFqRCxDQUNELENBSitCLENBTzNCLEtBQU1DLG9CQUFOLFFBQWtDTCxjQUFjLENBQ3JERSxZQUFZQyxPQUFaLENBQXFCQyxJQUFyQixDQUEyQixDQUN6QixNQUFNRCxPQUFOLENBQWVD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T0MsT0FBUCxDQUFlVSxPQUFmLENBQXlCRCxlQUFlek0sSUFBZixDQUFvQjZDLElBQXBCLENBQXlCNEosY0FBekIsQ0FBekIsQyIsImZpbGUiOiJmdW5jdGlvbnMvZmlsbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDM0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzZWU2YWQ2NTJhYmYxNmMyZTZlYSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHNcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibG9kYXNoXCJcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJleHBvcnQgeyBkZWZhdWx0IGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSAnLi9Db250cm9sbGVyJ1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBFeGNlcHRpb25zIH0gZnJvbSAnLi9FeGNlcHRpb25zJ1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNaWRkbGV3YXJlIH0gZnJvbSAnLi9NaWRkbGV3YXJlJ1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBSZXF1ZXN0IH0gZnJvbSAnLi9SZXF1ZXN0J1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBSZXNwb25zZSB9IGZyb20gJy4vUmVzcG9uc2UnXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vaGVscGVycy9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jbGFzcyBCYXNlRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSlcbiAgICB0aGlzLmNvZGUgPSB0eXBlb2YgY29kZSAhPT0gJ3VuZGVmaW5lZCcgPyBjb2RlIDogMFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYWRSZXF1ZXN0RXhjZXB0aW9uIGV4dGVuZHMgQmFzZUV4Y2VwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBjb2RlKVxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDQwMFxuICAgIHRoaXMubmFtZSA9ICdCYWQgUmVxdWVzdCdcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVW5BdXRob3JpemVkRXhjZXB0aW9uIGV4dGVuZHMgQmFzZUV4Y2VwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBjb2RlKVxuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDQwMVxuICAgIHRoaXMubmFtZSA9ICdVbmF1dGhvcml6ZWQnXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXhjZXB0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgY29kZSlcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSA0MDRcbiAgICB0aGlzLm5hbWUgPSAnTm90IEZvdW5kJ1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhVmFsaWRhdGlvbkZhaWxlZEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgYm9keSwgY29kZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUpXG4gICAgdGhpcy5zdGF0dXNDb2RlID0gNDIyXG4gICAgdGhpcy5uYW1lID0gJ0RhdGEgVmFsaWRhdGlvbiBmYWlsZWQnXG4gICAgdGhpcy5ib2R5ID0gYm9keVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgQmFkUmVxdWVzdEV4Y2VwdGlvbixcbiAgVW5BdXRob3JpemVkRXhjZXB0aW9uLFxuICBOb3RGb3VuZEV4Y2VwdGlvbixcbiAgRGF0YVZhbGlkYXRpb25GYWlsZWRFeGNlcHRpb25cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9oZWxwZXJzL0V4Y2VwdGlvbnMuanMiLCIvKipcbiAqIENsYXNzIHRvIGhhbmRsZSByZXNwb25zZXMgYmFjayB0byBMYW1iZGFcbiAqXG4gKiBAdHlwZSB7UmVzcG9uc2V9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFBhc3MgdGhlIExhbWJkYSBmdW5jdGlvbiB0aGF0IGNvbWVzIGluIHRoZSBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSBsYW1iZGFDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBjb25zdHJ1Y3RvcihsYW1iZGFDYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBsYW1iZGFDYWxsYmFja1xuICAgIHRoaXMuX3N0YXR1c0NvZGUgPSAyMDBcbiAgICB0aGlzLl9oZWFkZXJzID0ge31cbiAgICB0aGlzLl9vcHRpb25zID0ge31cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIHN0YXR1cyBjb2RlXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0dXNDb2RlXG4gICAqIEByZXR1cm5zIHtSZXNwb25zZX1cbiAgICovXG4gIHN0YXR1c0NvZGUoc3RhdHVzQ29kZSkge1xuICAgIGlmIChzdGF0dXNDb2RlID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9zdGF0dXNDb2RlXG4gICAgdGhpcy5fc3RhdHVzQ29kZSA9IHBhcnNlSW50KHN0YXR1c0NvZGUpXG4gICAgaWYgKGlzTmFOKHRoaXMuX3N0YXR1c0NvZGUpKSB0aGlzLl9zdGF0dXNDb2RlID0gNTAwXG4gICAgaWYgKHRoaXMuX3N0YXR1c0NvZGUgPCAyMDAgfHwgdGhpcy5fc3RhdHVzQ29kZSA+IDU5OSkgdGhpcy5fc3RhdHVzQ29kZSA9IDUwMFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBoZWFkZXJzLCByZXRyaWV2ZSBhIGhlYWRlciBvciBhZGQgb25lL21hbnkgaGVhZGVyc1xuICAgKlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGhlYWRlcnMoa2V5LCB2YWx1ZSkge1xuICAgIC8vIElmIGNhbGxlZCBlbXB0eSBpdCByZXR1cm5zIGFsbCB0aGUgaGVhZGVyc1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGVhZGVyc1xuICAgIH1cblxuICAgIC8vIFNldCBvciByZXR1cm4gdGhlIGtleSB3aGVuIGl0IGlzIGEgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gfHwgbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBtdWx0aXBsZSBoZWFkZXJzXG4gICAgbGV0IGhlYWRlck5hbWVzID0gT2JqZWN0LmtleXMoa2V5KVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVhZGVyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBoZWFkZXJOYW1lID0gaGVhZGVyTmFtZXNbaV0udG9Mb3dlckNhc2UoKVxuICAgICAgdGhpcy5faGVhZGVyc1toZWFkZXJOYW1lXSA9IGtleVtoZWFkZXJOYW1lc1tpXV1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgb3B0aW9ucyhrZXksIHZhbHVlKSB7XG4gICAgLy8gSWYgY2FsbGVkIGVtcHR5IGl0IHJldHVybnMgYWxsIHRoZSBvcHRpb25zXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zXG4gICAgfVxuXG4gICAgLy8gU2V0IG9yIHJldHVybiB0aGUga2V5IHdoZW4gaXQgaXMgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zW2tleV0gfHwgbnVsbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fb3B0aW9uc1trZXldID0gdmFsdWVcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgbXVsdGlwbGUgb3B0aW9uc1xuICAgIGxldCBvcHRpb25zTmFtZXMgPSBPYmplY3Qua2V5cyhrZXkpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBvcHRpb25OYW1lID0gb3B0aW9uc05hbWVzW2ldXG4gICAgICB0aGlzLl9vcHRpb25zW29wdGlvbk5hbWVdID0ga2V5W29wdGlvbnNOYW1lc1tpXV1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgdGhlIGJvZHkgYXMgYSByZXNwb25zZVxuICAgKlxuICAgKiBAcGFyYW0gYm9keVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzZW5kKGJvZHkpIHtcbiAgICBjb25zdCB7IHJhdywgLi4ucmVzdCB9ID0gdGhpcy5fb3B0aW9uc1xuXG4gICAgaWYgKGJvZHkgPT09IHVuZGVmaW5lZCkgYm9keSA9IHt9XG4gICAgaWYgKCFyYXcpIHtcbiAgICAgIGlmICh0eXBlb2YgYm9keSAhPT0gJ29iamVjdCcpIGJvZHkgPSB7IG1lc3NhZ2U6IGJvZHkgfVxuICAgICAgYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkgfHwge30pXG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFjayhudWxsLCB7XG4gICAgICBzdGF0dXNDb2RlOiB0aGlzLl9zdGF0dXNDb2RlLFxuICAgICAgYm9keSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAuLi5yZXN0XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBGYWlsIHdpdGggYSA0WFggc3RhdHVzQ29kZVxuICAgKlxuICAgKiBAcGFyYW0gYm9keVxuICAgKiBAcGFyYW0gc3RhdHVzQ29kZVxuICAgKiBAcHVibGljXG4gICAqL1xuICBmYWlsKGJvZHksIHN0YXR1c0NvZGUpIHtcbiAgICBpZiAoYm9keSA9PT0gdW5kZWZpbmVkKSBib2R5ID0ge31cbiAgICBpZiAodHlwZW9mIGJvZHkgIT09ICdvYmplY3QnKSBib2R5ID0geyBtZXNzYWdlOiBib2R5IH1cbiAgICB0aGlzLnN0YXR1c0NvZGUoTWF0aC5hYnMocGFyc2VJbnQoc3RhdHVzQ29kZSB8fCA0MDApKSAlIDEwMCArIDQwMCkuc2VuZChcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICBtZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHkgfHwge31cbiAgICAgIClcbiAgICApXG4gIH1cblxuICAvKipcbiAgICogRmFpbCB3aXRoIGEgNVhYIHN0YXR1c0NvZGVcbiAgICpcbiAgICogQHBhcmFtIGVyclxuICAgKiBAcGFyYW0gc3RhdHVzQ29kZVxuICAgKiBAcHVibGljXG4gICAqL1xuICBmYWlsNTAwKGVyciwgc3RhdHVzQ29kZSkge1xuICAgIGlmIChlcnIgPT09IHVuZGVmaW5lZCkgZXJyID0gbmV3IEVycm9yKFwiQ2FsbGVkICdmYWlsNTAwJyB3aXRob3V0IGVycm9yXCIpXG4gICAgaWYgKCFlcnIpIGVyciA9IHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfVxuXG4gICAgLy8gTG9nIHRoZSBlcnJvciB0byBpZGVudGlmeSBsYXRlclxuICAgIGlmIChlcnIuc3RhY2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICB9XG5cbiAgICAvLyBTZW5kIGEgcmVzcG9uc2UgaW4gYSBwcm9wZXIgZm9ybWF0IHRvIHRoZSBjdXN0b21lclxuICAgIHRoaXMuc3RhdHVzQ29kZShNYXRoLmFicyhwYXJzZUludChzdGF0dXNDb2RlIHx8IDUwMCkpICUgMTAwICsgNTAwKS5zZW5kKHtcbiAgICAgIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXG4gICAgfSlcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2hlbHBlcnMvUmVzcG9uc2UuanMiLCIvKipcbiAqIEEgUmVxdWVzdCB0eXBlIHRvIGVhc2lseSBzZW5kIHJlcXVlc3RzIHRvIHNlcnZpY2VzXG4gKlxuICogQHR5cGUge1JlcXVlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlcXVlc3Qge1xuICAvKipcbiAgICogQ3JlYXRlIHRoZSByZXF1ZXN0IGJ5IHBhc3NpbmcgdGhlIGV2ZW50IGFuZCBjb250ZXh0IHJlY2VpdmVkXG4gICAqIGluIHRoZSBsYW1iZGEgaGFuZGxlci4gVGhpcyBjbGFzcyBoYXMgbWV0aG9kcyB0byByZXRyaWV2ZSBpbmZvXG4gICAqIGZyb20gdGhvc2UgcGFyYW1ldGVyc1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGNvbnRleHRcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoZXZlbnQsIGNvbnRleHQpIHtcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdCBhIHZhbHVlIGZyb20gYW4gb2JqZWN0IHVzaW5nIGRvdCBub3RhdGlvbi4gSXQgY2FuXG4gICAqIGdldCBuZXN0ZWQgb2JqZWN0c1xuICAgKlxuICAgKiBAcGFyYW0gb2JqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgX19nZXQob2JqLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmICghb2JqKSByZXR1cm4gZGVmYXVsdFZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogZGVmYXVsdFZhbHVlXG4gICAgY29uc3QgcGF0aCA9IGtleS5zcGxpdCgnLicpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKG9ialtwYXRoW2ldXSkge1xuICAgICAgICAgIG9iaiA9IG9ialtwYXRoW2ldXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iaiA9IGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlZmF1bHRWYWx1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBkZWZhdWx0VmFsdWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9ialxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gYSBwYXRoIHZhcmlhYmxlXG4gICAqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIGRlZlZhbFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcGF0aChrZXksIGRlZlZhbCkge1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuZXZlbnQucGF0aFBhcmFtZXRlcnMgfHwge31cbiAgICByZXR1cm4gdGhpcy5fX2dldCh0aGlzLmV2ZW50LnBhdGhQYXJhbWV0ZXJzLCBrZXksIGRlZlZhbClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBib2R5IG9mIHRoZSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIGRlZlZhbFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcG9zdChrZXksIGRlZlZhbCkge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGJvZHkgaXMgbm90IGEgSlNPTiBzdHJpbmcgYnV0IGFuIG9iamVjdFxuICAgIC8vIGJlY2F1c2UgQVdTIHNlbmRzIGl0IGFzIGEgSlNPTiBzdHJpbmdcbiAgICBpZiAodGhpcy5ldmVudC5ib2R5ICYmIHR5cGVvZiB0aGlzLmV2ZW50LmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmV2ZW50LmJvZHkgPSBKU09OLnBhcnNlKHRoaXMuZXZlbnQuYm9keSlcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHRoaXMuZXZlbnQuYm9keSA9IHt9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5ldmVudC5ib2R5IHx8IHt9XG4gICAgcmV0dXJuIHRoaXMuX19nZXQodGhpcy5ldmVudC5ib2R5LCBrZXksIGRlZlZhbClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBxdWVyeSBwYXJhbWV0ZXJzXG4gICAqXG4gICAqIEBwYXJhbSBrZXlcbiAgICogQHBhcmFtIGRlZlZhbFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcXVlcnkoa2V5LCBkZWZWYWwpIHtcbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmV2ZW50LnF1ZXJ5U3RyaW5nUGFyYW1ldGVycyB8fCB7fVxuICAgIHJldHVybiB0aGlzLl9fZ2V0KHRoaXMuZXZlbnQucXVlcnlTdHJpbmdQYXJhbWV0ZXJzLCBrZXksIGRlZlZhbClcbiAgfVxuXG4gIC8qKlxuICAgICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIG1ldGhvZFxuICAgICAqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnQuaHR0cE1ldGhvZCB8fCAnJ1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZhbHVlIGZyb20gdGhlIGhlYWRlcnNcbiAgICpcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcGFyYW0gZGVmVmFsXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgaGVhZGVycyhrZXksIGRlZlZhbCkge1xuICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuZXZlbnQuaGVhZGVycyB8fCB7fVxuICAgIHJldHVybiB0aGlzLl9fZ2V0KHRoaXMuZXZlbnQuaGVhZGVycywga2V5LCBkZWZWYWwpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBJUCBBZGRyZXNzIG9mIHRoZSByZXF1ZXN0IGZyb20gdGhlIEFXUyBldmVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGlwKCkge1xuICAgIGxldCBpcFZhbCA9IHRoaXMuX19nZXQodGhpcy5ldmVudCwgJ3JlcXVlc3RDb250ZXh0LmlkZW50aXR5LnNvdXJjZUlwJywgbnVsbClcbiAgICBpZiAoaXBWYWwgPT09ICc6OicpIHtcbiAgICAgIGlwVmFsID0gJzEyNy4wLjAuMSdcbiAgICB9XG4gICAgcmV0dXJuIGlwVmFsXG4gIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9oZWxwZXJzL1JlcXVlc3QuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicGF0aFwiXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IFN3YXBpIGZyb20gJy4vc3dhcGknXG5cbmV4cG9ydCB7XG4gIFN3YXBpXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vdXRpbHMvaW5kZXguanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ5ZW52XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwieWVudlwiXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiY2xhc3MgSVJlcG9zaXRvcnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAodGhpcy5jcmVhdGUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IG92ZXJyaWRlIC5jcmVhdGUoKSBtZXRob2QuJylcbiAgICBpZiAodGhpcy51cGRhdGUgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdNdXN0IG92ZXJyaWRlIC51cGRhdGUoKSBtZXRob2QnKVxuICAgIGlmICh0aGlzLmdldCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ011c3Qgb3ZlcnJpZGUgLmdldCgpIG1ldG9kJylcbiAgICBpZiAodGhpcy5nZXRCeUlkID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignTXVzdCBvdmVycmlkZSAuZ2V0QnlJZCgpIG1ldGhvZCcpXG4gICAgaWYgKHRoaXMucmVtb3ZlID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignTXVzdCBvdmVycmlkZSAucmVtb3ZlKCkgbWV0aG9kJylcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJUmVwb3NpdG9yeVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3JlcG9zaXRvcmllcy9JUmVwb3NpdG9yeS5qcyIsImltcG9ydCBGaWxtQ29udHJvbGxlciBmcm9tICcuL0ZpbG0nXG5pbXBvcnQgUGVvcGxlQ29udHJvbGxlciBmcm9tICcuL1Blb3BsZSdcblxuZXhwb3J0IHtcbiAgRmlsbUNvbnRyb2xsZXIsXG4gIFBlb3BsZUNvbnRyb2xsZXJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb250cm9sbGVycy9pbmRleC5qcyIsImltcG9ydCB7IG1hcCwgY29uY2F0LCBnZXQgfSBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyBCYXNlQ29udHJvbGxlciwgTWlkZGxld2FyZSB9IGZyb20gJ3N3YXBpLWhlbHBlcnMnXG5pbXBvcnQgeyBTd2FwaSB9IGZyb20gJ3N3YXBpLXV0aWxzJ1xuaW1wb3J0IHsgRmlsbURUTyB9IGZyb20gJy4uL2R0b3MnXG5pbXBvcnQgeyBGaWxtTWFwcGluZyB9IGZyb20gJy4uL21hcHBlcnMnXG5cbmNvbnN0IHsgQ29yc01pZGRsZXdhcmUgfSA9IE1pZGRsZXdhcmVcblxuY29uc3QgZ2V0RmlsbXMgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBTd2FwaS5nZXRGaWxtcyhkYXRhID0+IHJlc29sdmUoZGF0YSkpXG4gICAgfVxuICApXG59XG5cbmNsYXNzIEZpbG1SZXBvc2l0b3J5Q29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IodW5pdE9mV29yaykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnVuaXRPZldvcmsgPSB1bml0T2ZXb3JrXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUoQ29yc01pZGRsZXdhcmUpXG5cbiAgICByZXR1cm4gc3VwZXIuaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spXG4gIH1cblxuICBhc3luYyBoYW5kbGUoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5yZXF1ZXN0Lm1ldGhvZCgpXG4gICAgdmFyIG9wZXJhdGlvbiA9IG51bGxcblxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdHRVQnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLmdldCgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy5jcmVhdGUoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUEFUQ0gnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnJlbW92ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnTWV0aG9kIG5vdCBzdXBwb3J0ZWQhJyB9KVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiBvcGVyYXRpb25cbiAgfVxuXG4gIGFzeW5jIGdldCgpIHtcbiAgICBjb25zdCB7IEZpbG1SZXBvc2l0b3J5IH0gPSB0aGlzLnVuaXRPZldvcmtcbiAgICBjb25zdCB7IGxhbmcsIC4uLmZpbHRlcnMgfSA9IHRoaXMucmVxdWVzdC5xdWVyeSgpXG4gICAgY29uc3QgZmlsbXMgPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS5nZXQoZmlsdGVycykgfHwgW11cblxuICAgIGNvbnN0IGZpbG1zQXBpID0gYXdhaXQgZ2V0RmlsbXMoKVxuXG4gICAgdmFyIHJlc3VsdHMgPSBjb25jYXQoXG4gICAgICBnZXQoZmlsbXNBcGksICdyZXN1bHRzJywgW10pLFxuICAgICAgZmlsbXNcbiAgICApXG5cbiAgICBpZiAobGFuZykge1xuICAgICAgcmVzdWx0cyA9IG1hcChyZXN1bHRzLCBlID0+IHtcbiAgICAgICAgY29uc3QgZmlsbURUTyA9IG5ldyBGaWxtRFRPKGUpXG4gICAgICAgIGNvbnN0IGZpbG1NYXBwaW5nID0gbmV3IEZpbG1NYXBwaW5nKGZpbG1EVE8pXG5cbiAgICAgICAgaWYgKGxhbmcgPT09ICdlcycgfHwgbGFuZyA9PT0gJ0VTJylcbiAgICAgICAgICByZXR1cm4gZmlsbU1hcHBpbmcudG9TcGFuaXNoKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBmaWxtRFRPXG5cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmZpbG1zQXBpLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIGNvdW50OiBmaWxtc0FwaS5jb3VudCArIHJlc3VsdHMubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QnlJZCgpIHtcbiAgICBjb25zdCB7IEZpbG1SZXBvc2l0b3J5IH0gPSB0aGlzLnVuaXRPZldvcmtcbiAgICBjb25zdCB7IGlkIH0gPSB0aGlzLnJlcXVlc3QucGF0aCgpXG4gICAgY29uc3QgZmlsbSA9IGF3YWl0IEZpbG1SZXBvc2l0b3J5LmdldEJ5SWQoaWQpXG5cbiAgICByZXR1cm4gZmlsbVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlKCkge1xuICAgIGNvbnN0IHsgRmlsbVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IGZpbG0gPSB0aGlzLnJlcXVlc3QucG9zdCgpXG5cbiAgICBjb25zdCBjcmVhdGVkID0gRGF0ZShEYXRlLm5vdygpKS50b1N0cmluZygpXG4gICAgY29uc3QgZmlsbVNhdmVkID0gYXdhaXQgRmlsbVJlcG9zaXRvcnkuY3JlYXRlKHsgLi4uZmlsbSwgY3JlYXRlZCB9KVxuXG4gICAgY29uc3QgY2hpbGRzID0gWydwZW9wbGUnLCAncGxhbmV0JywgJ3NwZWNpZScsICdzdGFyc2hpcCcsICd2ZWhpY2xlJ11cbiAgICBjb25zdCBjaGVja0FuZENyZWF0ZUNoaWxkcyA9IChlbnRpdHkgPSBudWxsKSA9PiB7XG4gICAgICBpZiAoZmlsbVtlbnRpdHldKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZpbG1bZW50aXR5XSkpIHtcbiAgICAgICAgICByZXR1cm4gZmlsbVtlbnRpdHldLm1hcChlID0+IGZpbG1TYXZlZC5jcmVhdGVGaWxtUmVsYXRpb24oe1xuICAgICAgICAgICAgcmVsYXRpb25faWQ6IGUsXG4gICAgICAgICAgICByZWxhdGlvbjogZW50aXR5LFxuICAgICAgICAgICAgY3JlYXRlZFxuICAgICAgICAgIH0pKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmaWxtU2F2ZWQuY3JlYXRlRmlsbVJlbGF0aW9uKHtcbiAgICAgICAgICAgIHJlbGF0aW9uX2lkOiBmaWxtW2VudGl0eV0sXG4gICAgICAgICAgICByZWxhdGlvbjogZW50aXR5LFxuICAgICAgICAgICAgY3JlYXRlZFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChjaGlsZHMubWFwKGUgPT4gY2hlY2tBbmRDcmVhdGVDaGlsZHMoZSkpKVxuXG4gICAgcmV0dXJuIGZpbG1TYXZlZFxuICB9XG5cbiAgYXN5bmMgdXBkYXRlKCkge1xuICAgIGNvbnN0IHsgRmlsbVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcbiAgICBjb25zdCBmaWxtID0gdGhpcy5yZXF1ZXN0LnBvc3QoKVxuXG4gICAgY29uc3Qgcm93VXBkYXRlID0gYXdhaXQgRmlsbVJlcG9zaXRvcnkudXBkYXRlKGlkLCBmaWxtKVxuXG4gICAgaWYgKHJvd1VwZGF0ZSkge1xuICAgICAgY29uc3QgZmlsbVVwZGF0ZWQgPSBhd2FpdCBGaWxtUmVwb3NpdG9yeS5nZXRCeUlkKGlkKVxuXG4gICAgICByZXR1cm4gZmlsbVVwZGF0ZWRcbiAgICB9XG5cbiAgICByZXR1cm4ge31cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZSgpIHtcbiAgICBjb25zdCB7IEZpbG1SZXBvc2l0b3J5IH0gPSB0aGlzLnVuaXRPZldvcmtcbiAgICBjb25zdCB7IGlkIH0gPSB0aGlzLnJlcXVlc3QucGF0aCgpXG5cbiAgICBjb25zdCBmaWxtID0gYXdhaXQgRmlsbVJlcG9zaXRvcnkucmVtb3ZlKGlkKVxuXG4gICAgcmV0dXJuIGZpbG1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxtUmVwb3NpdG9yeUNvbnRyb2xsZXJcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb250cm9sbGVycy9GaWxtLmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBFeGNlcHRpb25zIGZyb20gJy4vRXhjZXB0aW9ucydcbmltcG9ydCBSZXNwb25zZSBmcm9tICcuL1Jlc3BvbnNlJ1xuaW1wb3J0IFJlcXVlc3QgZnJvbSAnLi9SZXF1ZXN0J1xuXG5jb25zdCB7XG4gIEJhZFJlcXVlc3RFeGNlcHRpb24sXG4gIERhdGFWYWxpZGF0aW9uRmFpbGVkRXhjZXB0aW9uLFxuICBVbkF1dGhvcml6ZWRFeGNlcHRpb24sXG4gIE5vdEZvdW5kRXhjZXB0aW9uXG59ID0gRXhjZXB0aW9uc1xuXG5jbGFzcyBCYXNlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWlkZGxld2FyZXMgPSBbXVxuICB9XG5cbiAgaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlcXVlc3QgPSBuZXcgUmVxdWVzdChldmVudCwgY29udGV4dClcbiAgICB0aGlzLnJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGNhbGxiYWNrKVxuXG4gICAgY29udGV4dC5jYWxsYmFja1dhaXRzRm9yRW1wdHlFdmVudExvb3AgPSBmYWxzZVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1pZGRsZXdhcmVQcm9taXNlID0gdGhpcy5wcm9jZXNzUmVxdWVzdCgpXG4gICAgICBjb25zdCBoYW5kbGUgPSB0aGlzLmhhbmRsZS5iaW5kKHRoaXMpXG4gICAgICByZXR1cm4gbWlkZGxld2FyZVByb21pc2VcbiAgICAgICAgLnRoZW4oaGFuZGxlKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLnJlc3BvbnNlLnNlbmQocmVzcG9uc2UpKVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVFeGNlcHRpb24oZSlcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmhhbmRsZUV4Y2VwdGlvbihlKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBZb3UgTVVTVCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAqIEl0IGlzIHN1cHBvc2VkIHRvIGJlIHVzZWQgdG8gaGFuZGxlIHRoZSBsb2dpYyBpblxuICAgKiB5b3VyIGNvbnRyb2xsZXIuIFNob3VsZCByZXR1cm5zIGEgcHJvbWlzZSBvciByYWlzZVxuICAgKiBhbiBFeGNlcHRpb24gZnJvbSBjb3JlL0V4Y2VwdGlvbnNcbiAgICovXG4gIGhhbmRsZSgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IGltcGxlbWVudCB0aGUgbWV0aG9kIGhhbmRsZScpXG4gIH1cblxuICBtaWRkbGV3YXJlKG1pZGRsZXdhcmVDbGFzcykge1xuICAgIHRoaXMubWlkZGxld2FyZXMucHVzaChtaWRkbGV3YXJlQ2xhc3MpXG4gIH1cblxuICBwcm9jZXNzUmVxdWVzdCgpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1pZGRsZXdhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgTWlkZGxld2FyZSA9IHRoaXMubWlkZGxld2FyZXNbaV1cbiAgICAgIGxldCBtaWRkbGV3YXJlT2JqID0gbmV3IE1pZGRsZXdhcmUodGhpcy5yZXF1ZXN0LCB0aGlzLnJlc3BvbnNlKVxuICAgICAgbGV0IG1ldGhvZCA9IG1pZGRsZXdhcmVPYmoucHJvY2Vzc1JlcXVlc3QuYmluZChtaWRkbGV3YXJlT2JqKVxuICAgICAgcHJvbWlzZXMucHVzaChtZXRob2QoKSlcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShQcm9taXNlLmFsbChwcm9taXNlcykpXG4gIH1cblxuICBoYW5kbGVFeGNlcHRpb24oZSkge1xuICAgIGNvbnN0IGlzU2ltaWxhckVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IHNpbWlsYXJFcnJvcnMgPSBbXG4gICAgICAgIEJhZFJlcXVlc3RFeGNlcHRpb24sXG4gICAgICAgIFVuQXV0aG9yaXplZEV4Y2VwdGlvbixcbiAgICAgICAgTm90Rm91bmRFeGNlcHRpb25cbiAgICAgIF1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2ltaWxhckVycm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIHNpbWlsYXJFcnJvcnNbaV0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaXNTaW1pbGFyRXJyb3IoZSkpIHtcbiAgICAgIHRoaXMucmVzcG9uc2UuZmFpbChcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1czogZS5zdGF0dXNDb2RlLFxuICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogZS5jb2RlXG4gICAgICAgIH0sXG4gICAgICAgIGUuc3RhdHVzQ29kZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIERhdGFWYWxpZGF0aW9uRmFpbGVkRXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnJlc3BvbnNlLnN0YXR1c0NvZGUoZS5zdGF0dXNDb2RlKS5zZW5kKGUuYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNwb25zZS5mYWlsNTAwKGUpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VDb250cm9sbGVyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9oZWxwZXJzL0NvbnRyb2xsZXIuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuaW1wb3J0IGkxOG4gZnJvbSAnaTE4bidcblxuaTE4bi5jb25maWd1cmUoe1xuICBkaXJlY3Rvcnk6IHBhdGguam9pbihfX2Rpcm5hbWUsICcuL3Jlc291cmNlcy9sYW5nJyksXG4gIHJlZ2lzdGVyOiBnbG9iYWwsXG4gIHVwZGF0ZUZpbGVzOiBmYWxzZSxcbiAgZGVmYXVsdExvY2FsZTogJ2VuJ1xufSlcblxuLyoqXG4gKiBFdmVyeSBtaWRkbGV3YXJlIGNhbiBkZWZpbmUgcHJvY2Vzc1JlcXVlc3QuXG4gKiBUaGF0IG1ldGhvZCBtdXN0IHJldHVybiBhIFByb21pc2VcbiAqL1xuY2xhc3MgQmFzZU1pZGRsZXdhcmUge1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3RcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2VcbiAgfVxufVxuXG5jbGFzcyBMYW5ndWFnZU1pZGRsZXdhcmUgZXh0ZW5kcyBCYXNlTWlkZGxld2FyZSB7XG4gIHByb2Nlc3NSZXF1ZXN0KCkge1xuICAgIGxldCBoZWFkZXJzID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnMoKVxuICAgIHRoaXMucmVxdWVzdC5sYW5ndWFnZSA9ICdlbidcbiAgICBpZiAoaGVhZGVyc1snQWNjZXB0LUxhbmd1YWdlJ10pIHtcbiAgICAgIHRoaXMucmVxdWVzdC5sYW5ndWFnZSA9IGhlYWRlcnNbJ0FjY2VwdC1MYW5ndWFnZSddLnN1YnN0cmluZygwLCAyKVxuICAgICAgaTE4bi5zZXRMb2NhbGUodGhpcy5yZXF1ZXN0Lmxhbmd1YWdlKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgfVxufVxuXG5jbGFzcyBDb3JzTWlkZGxld2FyZSBleHRlbmRzIEJhc2VNaWRkbGV3YXJlIHtcbiAgcHJvY2Vzc1JlcXVlc3QoKSB7XG4gICAgdGhpcy5yZXNwb25zZS5oZWFkZXJzKHtcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnOiB0cnVlXG4gICAgfSlcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIExhbmd1YWdlTWlkZGxld2FyZSxcbiAgQ29yc01pZGRsZXdhcmVcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9oZWxwZXJzL01pZGRsZXdhcmUuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJpMThuXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiaTE4blwiXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IGZldGNoID0gcmVxdWlyZSgnbm9kZS1mZXRjaCcpO1xuY29uc3QgeWVudiA9IHJlcXVpcmUoJ3llbnYnKVxuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50J1xuY29uc3Qgc3RhZ2UgPSB5ZW52KCcuZW52LnltbCcsIHsgZW52IH0pXG5cbmNvbnN0IHN3YXBpTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJvb3RVUkwgPSBzdGFnZS5TV0FQSV9VUkw7XG5cbiAgZnVuY3Rpb24gcmVxdWVzdCh1cmwsIGNiKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXNvdXJjZXMoY2IpIHtcbiAgICByZXR1cm4gcmVxdWVzdChyb290VVJMLCBjYik7XG4gIH1cblxuICBmdW5jdGlvbiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IocGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaWQsIGNiKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdChyb290VVJMICsgcGF0aCArIFwiL1wiICsgaWQgKyBcIi9cIiwgY2IpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKHBhdGgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgICBsZXQgcXVlcnlPYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICBsZXQgY2IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBxdWVyeU9iamVjdCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgY2IgPSBhcmd1bWVudHNbMV07XG4gICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50c1swXSkge1xuICAgICAgICAvLyBJZiBnaXZlbiBleGFjdGx5IG9uZSBhcmd1bWVudFxuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgcXVlcnlPYmplY3QgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNiID0gbnVsbDtcbiAgICAgICAgICBxdWVyeU9iamVjdCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocXVlcnlPYmplY3QpIHtcbiAgICAgICAgbGV0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHF1ZXJ5T2JqZWN0KSkge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IHF1ZXJ5T2JqZWN0W2tleV07XG4gICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVxdWVzdChyb290VVJMICsgcGF0aCArIFwiLz9cIiArIHNlYXJjaFBhcmFtcy50b1N0cmluZygpLCBjYik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXF1ZXN0KHJvb3RVUkwgKyBwYXRoICsgXCIvXCIsIGNiKTtcblxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFJlc291cmNlczogZ2V0UmVzb3VyY2VzLFxuICAgIGdldFBlcnNvbjogc2luZ3VsYXJSZXF1ZXN0R2VuZXJhdG9yKFwicGVvcGxlXCIpLFxuICAgIGdldFBlb3BsZTogcGx1cmFsUmVxdWVzdEdlbmVyYXRvcihcInBlb3BsZVwiKSxcbiAgICBnZXRGaWxtOiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IoXCJmaWxtc1wiKSxcbiAgICBnZXRGaWxtczogcGx1cmFsUmVxdWVzdEdlbmVyYXRvcihcImZpbG1zXCIpLFxuICAgIGdldFBsYW5ldDogc2luZ3VsYXJSZXF1ZXN0R2VuZXJhdG9yKFwicGxhbmV0c1wiKSxcbiAgICBnZXRQbGFuZXRzOiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKFwicGxhbmV0c1wiKSxcbiAgICBnZXRTcGVjaWVzOiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IoXCJzcGVjaWVzXCIpLFxuICAgIGdldEFsbFNwZWNpZXM6IHBsdXJhbFJlcXVlc3RHZW5lcmF0b3IoXCJzcGVjaWVzXCIpLFxuICAgIGdldFN0YXJzaGlwOiBzaW5ndWxhclJlcXVlc3RHZW5lcmF0b3IoXCJzdGFyc2hpcHNcIiksXG4gICAgZ2V0U3RhcnNoaXBzOiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKFwic3RhcnNoaXBzXCIpLFxuICAgIGdldFZlaGljbGU6IHNpbmd1bGFyUmVxdWVzdEdlbmVyYXRvcihcInZlaGljbGVzXCIpLFxuICAgIGdldFZlaGljbGVzOiBwbHVyYWxSZXF1ZXN0R2VuZXJhdG9yKFwidmVoaWNsZXNcIilcbiAgfTtcbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgc3dhcGlNb2R1bGVcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi91dGlscy9zd2FwaS5qcyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGUtZmV0Y2hcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJub2RlLWZldGNoXCJcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiaW1wb3J0IEZpbG1EVE8gZnJvbSAnLi9GaWxtJ1xuXG5leHBvcnQge1xuICBGaWxtRFRPXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZHRvcy9pbmRleC5qcyIsImNsYXNzIEZpbG1EdG8ge1xuICBjb25zdHJ1Y3RvcihlbnRpdHkpIHtcbiAgICB0aGlzLmlkID0gZW50aXR5LmlkXG4gICAgdGhpcy5jcmVhdGVkID0gZW50aXR5LmNyZWF0ZWRcbiAgICB0aGlzLmRpcmVjdG9yID0gZW50aXR5LmRpcmVjdG9yXG4gICAgdGhpcy5lZGl0ZWQgPSBlbnRpdHkuZWRpdGVkXG4gICAgdGhpcy5lcGlzb2RlX2lkID0gZW50aXR5LmVwaXNvZGVfaWRcbiAgICB0aGlzLm9wZW5pbmdfY3Jhd2wgPSBlbnRpdHkub3BlbmluZ19jcmF3bFxuICAgIHRoaXMucHJvZHVjZXIgPSBlbnRpdHkucHJvZHVjZXJcbiAgICB0aGlzLnJlbGVhc2VfZGF0ZSA9IGVudGl0eS5yZWxlYXNlX2RhdGVcbiAgICB0aGlzLnRpdGxlID0gZW50aXR5LnRpdGxlXG4gICAgdGhpcy51cmwgPSBlbnRpdHkudXJsXG4gICAgdGhpcy5jaGFyYWN0ZXJzID0gZW50aXR5LmNoYXJhY3RlcnNcbiAgICB0aGlzLnBsYW5ldHMgPSBlbnRpdHkucGxhbmV0c1xuICAgIHRoaXMuc3RhcnNoaXBzID0gZW50aXR5LnN0YXJzaGlwc1xuICAgIHRoaXMudmVoaWNsZXMgPSBlbnRpdHkudmVoaWNsZXNcbiAgICB0aGlzLnNwZWNpZXMgPSBlbnRpdHkuc3BlY2llc1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbG1EdG9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9kdG9zL0ZpbG0uanMiLCJpbXBvcnQgRmlsbU1hcHBpbmcgZnJvbSAnLi9GaWxtJ1xuXG5leHBvcnQge1xuICBGaWxtTWFwcGluZ1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL21hcHBlcnMvaW5kZXguanMiLCJjbGFzcyBGaWxtTWFwcGluZyB7XG4gIGNvbnN0cnVjdG9yKGZpbG1EVE8pIHtcbiAgICB0aGlzLmZpbG1EVE8gPSBmaWxtRFRPXG4gIH1cblxuICB0b1NwYW5pc2goKSB7XG4gICAgY29uc3QgeyBmaWxtRFRPIH0gPSB0aGlzXG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGZpbG1EVE8uaWQsXG4gICAgICBjcmVhZG86IGZpbG1EVE8uY3JlYXRlZCxcbiAgICAgIGRpcmVjdG9yOiBmaWxtRFRPLmRpcmVjdG9yLFxuICAgICAgZWRpdGFkbzogZmlsbURUTy5lZGl0ZWQsXG4gICAgICBlcGlzb2Rpb19pZDogZmlsbURUTy5lcGlzb2RlX2lkLFxuICAgICAgcmFzdHJlb19hcGVydHVyYTogZmlsbURUTy5vcGVuaW5nX2NyYXdsLFxuICAgICAgcHJvZHVjdG9yOiBmaWxtRFRPLnByb2R1Y2VyLFxuICAgICAgZmVjaGFfbGFuemFtaWVudG86IGZpbG1EVE8ucmVsZWFzZV9kYXRlLFxuICAgICAgdGl0dWxvOiBmaWxtRFRPLnRpdGxlLFxuICAgICAgdXJsOiBmaWxtRFRPLnVybCxcbiAgICAgIGFjdG9yZXM6IGZpbG1EVE8uY2hhcmFjdGVycyxcbiAgICAgIHBsYW5ldGFzOiBmaWxtRFRPLnBsYW5ldHMsXG4gICAgICBuYXZlc19lc3BhY2lhbGVzOiBmaWxtRFRPLnN0YXJzaGlwcyxcbiAgICAgIHZlaGljdWxvczogZmlsbURUTy52ZWhpY2xlcyxcbiAgICAgIGVzcGVjaWVzOiBmaWxtRFRPLnNwZWNpZXNcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsbU1hcHBpbmdcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9tYXBwZXJzL0ZpbG0uanMiLCJpbXBvcnQgeyBCYXNlQ29udHJvbGxlciwgTWlkZGxld2FyZSB9IGZyb20gJ3N3YXBpLWhlbHBlcnMnXG5pbXBvcnQgeyBTd2FwaSB9IGZyb20gJ3N3YXBpLXV0aWxzJ1xuXG5jb25zdCB7IENvcnNNaWRkbGV3YXJlIH0gPSBNaWRkbGV3YXJlXG5cbmNvbnN0IGdldFBlb3BsZVJlcG9zaXRvcnlzID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoXG4gICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgU3dhcGkuZ2V0UGVvcGxlUmVwb3NpdG9yeXMoZGF0YSA9PiByZXNvbHZlKGRhdGEpKVxuICAgIH1cbiAgKVxufVxuXG5jbGFzcyBQZW9wbGVSZXBvc2l0b3J5Q29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IodW5pdE9mV29yaykge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnVuaXRPZldvcmsgPSB1bml0T2ZXb3JrXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUoQ29yc01pZGRsZXdhcmUpXG5cbiAgICByZXR1cm4gc3VwZXIuaW5pdChldmVudCwgY29udGV4dCwgY2FsbGJhY2spXG4gIH1cblxuICBhc3luYyBoYW5kbGUoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5yZXF1ZXN0Lm1ldGhvZCgpXG4gICAgdmFyIG9wZXJhdGlvbiA9IG51bGxcblxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdHRVQnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLmdldCgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgb3BlcmF0aW9uID0gYXdhaXQgdGhpcy5jcmVhdGUoKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnUEFUQ0gnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnVwZGF0ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdERUxFVEUnOlxuICAgICAgICBvcGVyYXRpb24gPSBhd2FpdCB0aGlzLnJlbW92ZSgpXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnTWV0aG9kIG5vdCBzdXBwb3J0ZWQhJyB9KVxuICAgICAgICBicmVha1xuICAgIH1cblxuICAgIHJldHVybiBvcGVyYXRpb25cbiAgfVxuXG4gIGFzeW5jIGdldCgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLnJlcXVlc3QucXVlcnkoKVxuICAgIGNvbnN0IHBlb3BsZXMgPSBhd2FpdCBQZW9wbGVSZXBvc2l0b3J5LmdldChmaWx0ZXJzKVxuICAgIGNvbnN0IHBlb3BsZXNBcGkgPSBhd2FpdCBnZXRQZW9wbGVSZXBvc2l0b3J5cygpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGVvcGxlc0FwaSxcbiAgICAgIHJlc3VsdHM6IHBlb3BsZXNBcGkucmVzdWx0cy5jb25jYXQocGVvcGxlcylcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRCeUlkKCkge1xuICAgIGNvbnN0IHsgUGVvcGxlUmVwb3NpdG9yeSB9ID0gdGhpcy51bml0T2ZXb3JrXG4gICAgY29uc3QgeyBpZCB9ID0gdGhpcy5yZXF1ZXN0LnBhdGgoKVxuICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuZ2V0QnlJZChpZClcblxuICAgIHJldHVybiBwZW9wbGVcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHBlb3BsZSA9IHRoaXMucmVxdWVzdC5wb3N0KClcblxuICAgIGNvbnN0IGNyZWF0ZWQgPSBEYXRlKERhdGUubm93KCkpLnRvU3RyaW5nKClcbiAgICBjb25zdCBwZW9wbGVTYXZlZCA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuY3JlYXRlKHsgLi4ucGVvcGxlLCBjcmVhdGVkIH0pXG5cbiAgICByZXR1cm4gcGVvcGxlU2F2ZWRcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcbiAgICBjb25zdCBwZW9wbGUgPSB0aGlzLnJlcXVlc3QucG9zdCgpXG5cbiAgICBjb25zdCByb3dVcGRhdGUgPSBhd2FpdCBQZW9wbGVSZXBvc2l0b3J5LnVwZGF0ZShpZCwgcGVvcGxlKVxuXG4gICAgaWYgKHJvd1VwZGF0ZSkge1xuICAgICAgY29uc3QgcGVvcGxlVXBkYXRlZCA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkuZ2V0QnlJZChpZClcblxuICAgICAgcmV0dXJuIHBlb3BsZVVwZGF0ZWRcbiAgICB9XG5cbiAgICByZXR1cm4ge31cbiAgfVxuXG4gIGFzeW5jIHJlbW92ZSgpIHtcbiAgICBjb25zdCB7IFBlb3BsZVJlcG9zaXRvcnkgfSA9IHRoaXMudW5pdE9mV29ya1xuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucmVxdWVzdC5wYXRoKClcblxuICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZVJlcG9zaXRvcnkucmVtb3ZlKGlkKVxuXG4gICAgcmV0dXJuIHBlb3BsZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBlb3BsZVJlcG9zaXRvcnlDb250cm9sbGVyXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29udHJvbGxlcnMvUGVvcGxlLmpzIiwiaW1wb3J0IFVuaXRPZldvcmsgZnJvbSAnLi9Vbml0T2ZXb3JrJ1xuaW1wb3J0IERCQ29udGV4dCBmcm9tICcuL0RCQ29udGV4dCdcblxuY29uc3QgdW5pdE9mV29yayA9IG5ldyBVbml0T2ZXb3JrKERCQ29udGV4dClcblxuZXhwb3J0IHtcbiAgdW5pdE9mV29ya1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BlcnNpc3RlbmNlL2luZGV4LmpzIiwiaW1wb3J0IHtcbiAgRmlsbVJlcG9zaXRvcnksXG4gIFBlb3BsZVJlcG9zaXRvcnlcbn0gZnJvbSAnc3dhcGktcmVwb3NpdG9yaWVzJ1xuXG5jbGFzcyBVbml0T2ZXb3JrIHtcbiAgY29uc3RydWN0b3IoZGJDb250ZXh0KSB7XG4gICAgdGhpcy5kYkNvbnRleHQgPSBkYkNvbnRleHRcblxuICAgIHRoaXMuRmlsbVJlcG9zaXRvcnkgPSBuZXcgRmlsbVJlcG9zaXRvcnkoZGJDb250ZXh0KVxuICAgIHRoaXMuUGVvcGxlUmVwb3NpdG9yeSA9IG5ldyBQZW9wbGVSZXBvc2l0b3J5KGRiQ29udGV4dClcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVuaXRPZldvcmsgXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcGVyc2lzdGVuY2UvVW5pdE9mV29yay5qcyIsImltcG9ydCBGaWxtUmVwb3NpdG9yeSBmcm9tICcuL0ZpbG0nXG5pbXBvcnQgUGVvcGxlUmVwb3NpdG9yeSBmcm9tICcuL1Blb3BsZSdcblxuZXhwb3J0IHtcbiAgRmlsbVJlcG9zaXRvcnksXG4gIFBlb3BsZVJlcG9zaXRvcnlcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXBvc2l0b3JpZXMvaW5kZXguanMiLCJpbXBvcnQgSVJlcG9zaXRvcnkgZnJvbSAnLi9JUmVwb3NpdG9yeSdcbmltcG9ydCB7IG1hcCB9IGZyb20gJ2xvZGFzaCdcblxuY2xhc3MgRmlsbVJlcG9zaXRvcnkgZXh0ZW5kcyBJUmVwb3NpdG9yeSB7XG4gIGNvbnN0cnVjdG9yKGRiQ29udGV4dCkge1xuICAgIHN1cGVyKClcblxuICAgIHRoaXMuZGJDb250ZXh0ID0gZGJDb250ZXh0XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlKGZpbG0pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBGaWxtIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgZmlsbVNhdmVkID0gYXdhaXQgRmlsbS5jcmVhdGUoZmlsbSlcblxuICAgICAgcmV0dXJuIGZpbG1TYXZlZFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlKGlkLCBmaWxtKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgRmlsbSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICAgIGNvbnN0IGZpbG1TYXZlZCA9IGF3YWl0IEZpbG0udXBkYXRlKGZpbG0sIHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgICByZXR1cm4gZmlsbVNhdmVkXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXQoZmlsdGVycykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IEZpbG0gfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgICBjb25zdCBmaWxtcyA9IGF3YWl0IEZpbG0uZmluZEFsbCh7IHdoZXJlOiBmaWx0ZXJzIH0pXG5cbiAgICAgIGNvbnN0IHBlb3BsZXMgPSBhd2FpdCBQcm9taXNlLmFsbChmaWxtcy5tYXAoZSA9PiBlLmdldFBlb3BsZSgpKSlcbiAgICAgIGNvbnN0IHBsYW5ldHMgPSBhd2FpdCBQcm9taXNlLmFsbChmaWxtcy5tYXAoZSA9PiBlLmdldFBsYW5ldHMoKSkpXG4gICAgICBjb25zdCBzcGVjaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoZmlsbXMubWFwKGUgPT4gZS5nZXRTcGVjaWVzKCkpKVxuICAgICAgY29uc3Qgc3RhcnNoaXBzID0gYXdhaXQgUHJvbWlzZS5hbGwoZmlsbXMubWFwKGUgPT4gZS5nZXRTdGFyc2hpcHMoKSkpXG4gICAgICBjb25zdCB2ZWhpY2xlcyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbG1zLm1hcChlID0+IGUuZ2V0VmVoaWNsZXMoKSkpXG5cbiAgICAgIGNvbnN0IGdldFVybCA9IGFyciA9PiBtYXAoYXJyLCBlID0+IGUudXJsKVxuXG4gICAgICBjb25zdCBmaWxtc1dpdGhQZW9wbGUgPSBtYXAoZmlsbXMsIChhLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBbXG4gICAgICAgICAgcGVvcGxlc1VybCxcbiAgICAgICAgICBwbGFuZXRzVXJsLFxuICAgICAgICAgIHNwZWNpZXNVcmwsXG4gICAgICAgICAgc3RhcnNoaXBzVXJsLFxuICAgICAgICAgIHZlaGljbGVzVXJsXG4gICAgICAgIF0gPSBbXG4gICAgICAgICAgICBnZXRVcmwocGVvcGxlc1tpbmRleF0pLFxuICAgICAgICAgICAgZ2V0VXJsKHBsYW5ldHNbaW5kZXhdKSxcbiAgICAgICAgICAgIGdldFVybChzcGVjaWVzW2luZGV4XSksXG4gICAgICAgICAgICBnZXRVcmwoc3RhcnNoaXBzW2luZGV4XSksXG4gICAgICAgICAgICBnZXRVcmwodmVoaWNsZXNbaW5kZXhdKVxuICAgICAgICAgIF1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmEuZGF0YVZhbHVlcyxcbiAgICAgICAgICBjaGFyYWN0ZXJzOiBwZW9wbGVzVXJsLFxuICAgICAgICAgIHNwZWNpZXM6IHNwZWNpZXNVcmwsXG4gICAgICAgICAgcGxhbmV0czogcGxhbmV0c1VybCxcbiAgICAgICAgICBzdGFydHNoaXA6IHN0YXJzaGlwc1VybCxcbiAgICAgICAgICB2ZWhpY2xlczogdmVoaWNsZXNVcmxcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIGZpbG1zV2l0aFBlb3BsZVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QnlJZChpZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IEZpbG0gfSA9IHRoaXMuZGJDb250ZXh0XG4gICAgICBjb25zdCBmaWxtID0gYXdhaXQgRmlsbS5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgICByZXR1cm4gZmlsbVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVtb3ZlKGlkKSB7XG4gICAgY29uc3QgeyBGaWxtIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgIGNvbnN0IGZpbG0gPSBhd2FpdCBGaWxtLmZpbmRPbmUoeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICBhd2FpdCBGaWxtLmRlc3Ryb3koeyB3aGVyZTogeyBpZCB9IH0pXG5cbiAgICByZXR1cm4gZmlsbVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZpbG1SZXBvc2l0b3J5XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVwb3NpdG9yaWVzL0ZpbG0uanMiLCJpbXBvcnQgSVJlcG9zaXRvcnkgZnJvbSAnLi9JUmVwb3NpdG9yeSdcblxuY2xhc3MgUGVvcGxlUmVwb3NpdG9yeSBleHRlbmRzIElSZXBvc2l0b3J5IHtcbiAgY29uc3RydWN0b3IoZGJDb250ZXh0KSB7XG4gICAgc3VwZXIoKVxuXG4gICAgdGhpcy5kYkNvbnRleHQgPSBkYkNvbnRleHRcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBhc3luYyBjcmVhdGUocGVvcGxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgUGVvcGxlIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgcGVvcGxlU2F2ZWQgPSBhd2FpdCBQZW9wbGUuY3JlYXRlKHBlb3BsZSlcblxuICAgICAgcmV0dXJuIHBlb3BsZVNhdmVkXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGUoaWQsIHBlb3BsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IFBlb3BsZSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICAgIGNvbnN0IHBlb3BsZVNhdmVkID0gYXdhaXQgUGVvcGxlLnVwZGF0ZShwZW9wbGUsIHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgICByZXR1cm4gcGVvcGxlU2F2ZWRcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldChmaWx0ZXJzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgUGVvcGxlIH0gPSB0aGlzLmRiQ29udGV4dFxuICAgICAgY29uc3QgcGVvcGxlID0gYXdhaXQgUGVvcGxlLmZpbmRBbGwoZmlsdGVycylcblxuICAgICAgcmV0dXJuIHBlb3BsZVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QnlJZChpZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IFBlb3BsZSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICAgIGNvbnN0IHBlb3BsZSA9IGF3YWl0IFBlb3BsZS5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgICByZXR1cm4gcGVvcGxlXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gIH1cblxuICBhc3luYyByZW1vdmUoaWQpIHtcbiAgICBjb25zdCB7IFBlb3BsZSB9ID0gdGhpcy5kYkNvbnRleHRcbiAgICBjb25zdCBwZW9wbGUgPSBhd2FpdCBQZW9wbGUuZmluZE9uZSh7IHdoZXJlOiB7IGlkIH0gfSlcblxuICAgIGF3YWl0IFBlb3BsZS5kZXN0cm95KHsgd2hlcmU6IHsgaWQgfSB9KVxuXG4gICAgcmV0dXJuIHBlb3BsZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBlb3BsZVJlcG9zaXRvcnlcblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXBvc2l0b3JpZXMvUGVvcGxlLmpzIiwiaW1wb3J0IENvbm5lY3Rpb25NYW5hZ2VyIGZyb20gJ3N3YXBpLWRhdGFiYXNlJ1xuXG5jb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnO1xuY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi4vZGF0YWJhc2UvY29uZmlnLmpzJylbZW52XTtcblxuY29uc3QgY25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKGNvbmZpZylcbmNvbnN0IGRiID0gY25NYW5hZ2VyLmdldENvbm5lY3Rpb24oKVxuXG5leHBvcnQgZGVmYXVsdCBkYlxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BlcnNpc3RlbmNlL0RCQ29udGV4dC5qcyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuY29uc3QgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lKF9fZmlsZW5hbWUpO1xuY29uc3QgeyBGUkFNRVdPUksgfSA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpXG5cbnZhciBfaW5zdGFuY2UgPSBudWxsXG5jb25zdCBtb2RlbHNQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4vbW9kZWxzJylcblxuY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgIHRoaXMuZnJhbWV3b3JrID0gY29uZmlnLmZyYW1ld29yayB8fCBGUkFNRVdPUksuU0VRVUVMSVpFXG4gICAgdGhpcy5kYXRhYmFzZSA9IGNvbmZpZy5kYXRhYmFzZVxuICAgIHRoaXMudXNlcm5hbWUgPSBjb25maWcudXNlcm5hbWVcbiAgICB0aGlzLnBhc3N3b3JkID0gY29uZmlnLnBhc3N3b3JkXG4gICAgdGhpcy5ob3N0ID0gY29uZmlnLmhvc3RcbiAgICB0aGlzLnBvcnQgPSBjb25maWcucG9ydFxuICAgIHRoaXMuZGlhbGVjdCA9IGNvbmZpZy5kaWFsZWN0XG4gICAgdGhpcy5zZXF1ZWxpemUgPSB7fVxuICAgIHRoaXMuZGlyZWN0b3J5ID0gY29uZmlnLmRpcmVjdG9yeSB8fCBtb2RlbHNQYXRoXG4gICAgdGhpcy51c2VfZW52X3ZhcmlhYmxlID0gY29uZmlnLnVzZV9lbnZfdmFyaWFibGVcblxuICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGxcblxuICAgIGlmICghX2luc3RhbmNlKSB7XG4gICAgICBfaW5zdGFuY2UgPSB0aGlzXG4gICAgfVxuICAgIHJldHVybiBfaW5zdGFuY2VcbiAgfVxuXG4gIGdldENvbm5lY3Rpb24oKSB7XG4gICAgc3dpdGNoICh0aGlzLmZyYW1ld29yaykge1xuICAgICAgY2FzZSBGUkFNRVdPUksuU0VRVUVMSVpFOlxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb24gfHwgdGhpcy5nZXRTZXF1ZWxpemUoKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uIHx8IHRoaXMuZ2V0U2VxdWVsaXplKClcbiAgICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uXG4gIH1cblxuICBnZXRTZXF1ZWxpemUoKSB7XG4gICAgY29uc3QgZGIgPSB7fTtcblxuICAgIGNvbnN0IHsgZGF0YWJhc2UsIHVzZXJuYW1lLCBwYXNzd29yZCwgZGlyZWN0b3J5LCBob3N0LCBwb3J0LCBkaWFsZWN0LCB1c2VfZW52X3ZhcmlhYmxlIH0gPSB0aGlzXG4gICAgY29uc3QgY29uZmlnID0geyBkYXRhYmFzZSwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0LCBwb3J0LCBkaWFsZWN0IH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAodXNlX2Vudl92YXJpYWJsZSkge1xuICAgICAgICB0aGlzLnNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUocHJvY2Vzcy5lbnZbdXNlX2Vudl92YXJpYWJsZV0sIGNvbmZpZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoZGF0YWJhc2UsIHVzZXJuYW1lLCBwYXNzd29yZCwgY29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgZnNcbiAgICAgICAgLnJlYWRkaXJTeW5jKGRpcmVjdG9yeSlcbiAgICAgICAgLmZpbHRlcihmaWxlID0+IHtcbiAgICAgICAgICByZXR1cm4gKGZpbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gYmFzZW5hbWUpICYmIChmaWxlLnNsaWNlKC0zKSA9PT0gJy5qcycpO1xuICAgICAgICB9KVxuICAgICAgICAuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuc2VxdWVsaXplWydpbXBvcnQnXShwYXRoLmpvaW4oZGlyZWN0b3J5LCBmaWxlKSk7XG4gICAgICAgICAgZGJbbW9kZWwubmFtZV0gPSBtb2RlbDtcbiAgICAgICAgfSk7XG5cbiAgICAgIE9iamVjdC5rZXlzKGRiKS5mb3JFYWNoKG1vZGVsTmFtZSA9PiB7XG4gICAgICAgIGlmIChkYlttb2RlbE5hbWVdLmFzc29jaWF0ZSkge1xuICAgICAgICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRlKGRiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGRiLnNlcXVlbGl6ZSA9IHRoaXMuc2VxdWVsaXplO1xuICAgICAgZGIuU2VxdWVsaXplID0gU2VxdWVsaXplO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGIuc3RhY2t0cmFjZSA9IGVyclxuICAgICAgZGIubWVzc2FnZSA9ICdDb25uZWN0aW9uTWFuYWdlckVycm9yIGluIGdldFNlcXVlbGl6ZUNvbm5lY3Rpb24nXG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgIH1cblxuICAgIHJldHVybiBkYlxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29ubmVjdGlvbk1hbmFnZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2RhdGFiYXNlL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZnNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJmc1wiXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInNlcXVlbGl6ZVwiXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsImNvbnN0IEZSQU1FV09SSyA9IHtcbiAgU0VRVUVMSVpFOiAnc2VxdWVsaXplJ1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgRlJBTUVXT1JLXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY29uc3RhbnRzL2luZGV4LmpzIiwiY29uc3QgeWVudiA9IHJlcXVpcmUoJ3llbnYnKVxuY29uc3QgZW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50J1xuY29uc3Qgc3RhZ2UgPSB5ZW52KCcuZW52LnltbCcsIHsgZW52IH0pXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXZlbG9wbWVudDoge1xuICAgIHVzZXJuYW1lOiBzdGFnZS5EQl9VU0VSTkFNRSxcbiAgICBwYXNzd29yZDogc3RhZ2UuREJfUEFTU1dPUkQsXG4gICAgZGF0YWJhc2U6IHN0YWdlLkRCX0RBVEFCQVNFLFxuICAgIGhvc3Q6IHN0YWdlLkRCX0hPU1QsXG4gICAgZGlhbGVjdDogc3RhZ2UuREJfRElBTEVDVFxuICB9LFxuICB0ZXN0OiB7XG4gICAgdXNlcm5hbWU6IHN0YWdlLkRCX1VTRVJOQU1FLFxuICAgIHBhc3N3b3JkOiBzdGFnZS5EQl9QQVNTV09SRCxcbiAgICBkYXRhYmFzZTogc3RhZ2UuREJfREFUQUJBU0UsXG4gICAgaG9zdDogc3RhZ2UuREJfSE9TVCxcbiAgICBkaWFsZWN0OiBzdGFnZS5EQl9ESUFMRUNUXG4gIH0sXG4gIHByb2R1Y3Rpb246IHtcbiAgICB1c2VybmFtZTogc3RhZ2UuREJfVVNFUk5BTUUsXG4gICAgcGFzc3dvcmQ6IHN0YWdlLkRCX1BBU1NXT1JELFxuICAgIGRhdGFiYXNlOiBzdGFnZS5EQl9EQVRBQkFTRSxcbiAgICBob3N0OiBzdGFnZS5EQl9IT1NULFxuICAgIGRpYWxlY3Q6IHN0YWdlLkRCX0RJQUxFQ1RcbiAgfVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2RhdGFiYXNlL2NvbmZpZy5qcyIsImltcG9ydCB7IEZpbG1Db250cm9sbGVyIH0gZnJvbSAnc3dhcGktY29udHJvbGxlcnMnXG5pbXBvcnQgeyB1bml0T2ZXb3JrIH0gZnJvbSAnLi4vcGVyc2lzdGVuY2UnXG5cbmNvbnN0IGZpbG1Db250cm9sbGVyID0gbmV3IEZpbG1Db250cm9sbGVyKHVuaXRPZldvcmspXG5cbm1vZHVsZS5leHBvcnRzLmhhbmRsZXIgPSBmaWxtQ29udHJvbGxlci5pbml0LmJpbmQoZmlsbUNvbnRyb2xsZXIpXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9mdW5jdGlvbnMvZmlsbS5qcyJdLCJzb3VyY2VSb290IjoiIn0=